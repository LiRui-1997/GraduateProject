{"ast":null,"code":"import _classCallCheck from \"/root/kiali-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/root/kiali-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/root/kiali-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/root/kiali-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/root/kiali-ui/src/pages/Overview/OverviewCardContentExpanded.tsx\";\nimport * as React from 'react';\nimport { DEGRADED, FAILURE, HEALTHY, NOT_READY } from '../../types/Health';\nimport OverviewStatus from './OverviewStatus';\nimport { switchType } from './OverviewHelper';\nimport { Paths } from '../../config';\nimport OverviewCardSparkline from './OverviewCardSparkline';\n\nvar OverviewCardContentExpanded = /*#__PURE__*/function (_React$Component) {\n  _inherits(OverviewCardContentExpanded, _React$Component);\n\n  var _super = _createSuper(OverviewCardContentExpanded);\n\n  function OverviewCardContentExpanded() {\n    _classCallCheck(this, OverviewCardContentExpanded);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(OverviewCardContentExpanded, [{\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(React.Fragment, null, this.renderStatus()), /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          width: '100%',\n          height: 90,\n          verticalAlign: 'top'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 26,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(OverviewCardSparkline, {\n        metrics: this.props.metrics,\n        errorMetrics: this.props.errorMetrics,\n        duration: this.props.duration,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 11\n        }\n      })));\n    }\n  }, {\n    key: \"renderStatus\",\n    value: function renderStatus() {\n      var targetPage = switchType(this.props.type, Paths.APPLICATIONS, Paths.SERVICES, Paths.WORKLOADS);\n      var name = this.props.name;\n      var status = this.props.status;\n      var nbItems = status.inError.length + status.inWarning.length + status.inSuccess.length + status.notAvailable.length + status.inNotReady.length;\n      var text;\n\n      if (nbItems === 1) {\n        text = switchType(this.props.type, '1 Application', '1 Service', '1 Workload');\n      } else {\n        text = nbItems + switchType(this.props.type, ' Applications', ' Services', ' Workloads');\n      }\n\n      var mainLink = /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          display: 'inline-block',\n          width: '125px',\n          whiteSpace: 'nowrap'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 22\n        }\n      }, text);\n\n      if (nbItems === status.notAvailable.length) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          style: {\n            textAlign: 'left'\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 9\n          }\n        }, /*#__PURE__*/React.createElement(\"span\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 11\n          }\n        }, mainLink, /*#__PURE__*/React.createElement(\"div\", {\n          style: {\n            display: 'inline-block',\n            marginLeft: '5px'\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 13\n          }\n        }, \"N/A\")));\n      }\n\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          textAlign: 'left'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }\n      }, mainLink, /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          display: 'inline-block'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 13\n        }\n      }, status.inNotReady.length > 0 && /*#__PURE__*/React.createElement(OverviewStatus, {\n        id: name + '-not-ready',\n        namespace: name,\n        status: NOT_READY,\n        items: status.inNotReady,\n        targetPage: targetPage,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 17\n        }\n      }), status.inError.length > 0 && /*#__PURE__*/React.createElement(OverviewStatus, {\n        id: name + '-failure',\n        namespace: name,\n        status: FAILURE,\n        items: status.inError,\n        targetPage: targetPage,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 17\n        }\n      }), status.inWarning.length > 0 && /*#__PURE__*/React.createElement(OverviewStatus, {\n        id: name + '-degraded',\n        namespace: name,\n        status: DEGRADED,\n        items: status.inWarning,\n        targetPage: targetPage,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 17\n        }\n      }), status.inSuccess.length > 0 && /*#__PURE__*/React.createElement(OverviewStatus, {\n        id: name + '-healthy',\n        namespace: name,\n        status: HEALTHY,\n        items: status.inSuccess,\n        targetPage: targetPage,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 17\n        }\n      })))));\n    }\n  }]);\n\n  return OverviewCardContentExpanded;\n}(React.Component);\n\nexport default OverviewCardContentExpanded;","map":{"version":3,"sources":["/root/kiali-ui/src/pages/Overview/OverviewCardContentExpanded.tsx"],"names":["React","DEGRADED","FAILURE","HEALTHY","NOT_READY","OverviewStatus","switchType","Paths","OverviewCardSparkline","OverviewCardContentExpanded","renderStatus","width","height","verticalAlign","props","metrics","errorMetrics","duration","targetPage","type","APPLICATIONS","SERVICES","WORKLOADS","name","status","nbItems","inError","length","inWarning","inSuccess","notAvailable","inNotReady","text","mainLink","display","whiteSpace","textAlign","marginLeft","Component"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport { DEGRADED, FAILURE, HEALTHY, NOT_READY } from '../../types/Health';\nimport OverviewStatus from './OverviewStatus';\nimport { OverviewType } from './OverviewToolbar';\nimport { NamespaceStatus } from './NamespaceInfo';\nimport { switchType } from './OverviewHelper';\nimport { Paths } from '../../config';\nimport { Metric } from '../../types/Metrics';\nimport { DurationInSeconds } from '../../types/Common';\nimport OverviewCardSparkline from './OverviewCardSparkline';\n\ntype Props = {\n  name: string;\n  type: OverviewType;\n  duration: DurationInSeconds;\n  status: NamespaceStatus;\n  metrics?: Metric[];\n  errorMetrics?: Metric[];\n};\n\nclass OverviewCardContentExpanded extends React.Component<Props> {\n  render() {\n    return (\n      <>\n        <>{this.renderStatus()}</>\n        <div\n          style={{\n            width: '100%',\n            height: 90,\n            verticalAlign: 'top'\n          }}\n        >\n          <OverviewCardSparkline\n            metrics={this.props.metrics}\n            errorMetrics={this.props.errorMetrics}\n            duration={this.props.duration}\n          />\n        </div>\n      </>\n    );\n  }\n\n  renderStatus(): JSX.Element {\n    const targetPage = switchType(this.props.type, Paths.APPLICATIONS, Paths.SERVICES, Paths.WORKLOADS);\n    const name = this.props.name;\n    const status = this.props.status;\n    const nbItems =\n      status.inError.length +\n      status.inWarning.length +\n      status.inSuccess.length +\n      status.notAvailable.length +\n      status.inNotReady.length;\n    let text: string;\n    if (nbItems === 1) {\n      text = switchType(this.props.type, '1 Application', '1 Service', '1 Workload');\n    } else {\n      text = nbItems + switchType(this.props.type, ' Applications', ' Services', ' Workloads');\n    }\n    const mainLink = <div style={{ display: 'inline-block', width: '125px', whiteSpace: 'nowrap' }}>{text}</div>;\n    if (nbItems === status.notAvailable.length) {\n      return (\n        <div style={{ textAlign: 'left' }}>\n          <span>\n            {mainLink}\n            <div style={{ display: 'inline-block', marginLeft: '5px' }}>N/A</div>\n          </span>\n        </div>\n      );\n    }\n    return (\n      <>\n        <div style={{ textAlign: 'left' }}>\n          <span>\n            {mainLink}\n            <div style={{ display: 'inline-block' }}>\n              {status.inNotReady.length > 0 && (\n                <OverviewStatus\n                  id={name + '-not-ready'}\n                  namespace={name}\n                  status={NOT_READY}\n                  items={status.inNotReady}\n                  targetPage={targetPage}\n                />\n              )}\n              {status.inError.length > 0 && (\n                <OverviewStatus\n                  id={name + '-failure'}\n                  namespace={name}\n                  status={FAILURE}\n                  items={status.inError}\n                  targetPage={targetPage}\n                />\n              )}\n              {status.inWarning.length > 0 && (\n                <OverviewStatus\n                  id={name + '-degraded'}\n                  namespace={name}\n                  status={DEGRADED}\n                  items={status.inWarning}\n                  targetPage={targetPage}\n                />\n              )}\n              {status.inSuccess.length > 0 && (\n                <OverviewStatus\n                  id={name + '-healthy'}\n                  namespace={name}\n                  status={HEALTHY}\n                  items={status.inSuccess}\n                  targetPage={targetPage}\n                />\n              )}\n            </div>\n          </span>\n        </div>\n      </>\n    );\n  }\n}\n\nexport default OverviewCardContentExpanded;\n"]},"metadata":{},"sourceType":"module"}