{"ast":null,"code":"import _classCallCheck from \"/root/GraduateProject/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/root/GraduateProject/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/root/GraduateProject/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/root/GraduateProject/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/root/GraduateProject/src/components/IstioConfigCard/IstioConfigCard.tsx\";\nimport * as React from 'react';\nimport { cellWidth, Table, TableBody, TableHeader, TableVariant } from '@patternfly/react-table';\nimport { Card, CardActions, CardBody, CardHead, CardHeader, EmptyState, EmptyStateBody, EmptyStateVariant, Title, TooltipPosition } from '@patternfly/react-core';\nimport { ValidationObjectSummary } from '../Validations/ValidationObjectSummary';\nimport IstioObjectLink from '../Link/IstioObjectLink';\nimport { IstioTypes } from '../VirtualList/Config';\nimport { style } from 'typestyle';\nimport { PFBadge } from '../Pf/PfBadges';\nvar emtpytStyle = style({\n  padding: '0 0 0 0',\n  margin: '0 0 0 0'\n});\n\nvar IstioConfigCard = /*#__PURE__*/function (_React$Component) {\n  _inherits(IstioConfigCard, _React$Component);\n\n  var _super = _createSuper(IstioConfigCard);\n\n  function IstioConfigCard() {\n    _classCallCheck(this, IstioConfigCard);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(IstioConfigCard, [{\n    key: \"columns\",\n    value: function columns() {\n      return [{\n        title: 'Name'\n      }, {\n        title: 'Status',\n        transforms: [cellWidth(10)]\n      }];\n    }\n  }, {\n    key: \"noIstioConfig\",\n    value: function noIstioConfig() {\n      return [{\n        cells: [{\n          title: /*#__PURE__*/React.createElement(EmptyState, {\n            variant: EmptyStateVariant.small,\n            className: emtpytStyle,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 43,\n              columnNumber: 15\n            }\n          }, /*#__PURE__*/React.createElement(EmptyStateBody, {\n            className: emtpytStyle,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 44,\n              columnNumber: 17\n            }\n          }, \"No Istio Config found for \", this.props.name)),\n          props: {\n            colSpan: 2\n          }\n        }]\n      }];\n    }\n  }, {\n    key: \"overviewLink\",\n    value: function overviewLink(item) {\n      return /*#__PURE__*/React.createElement(IstioObjectLink, {\n        name: item.name,\n        namespace: item.namespace || '',\n        type: item.type,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 7\n        }\n      }, item.name);\n    }\n  }, {\n    key: \"rows\",\n    value: function rows() {\n      var _this = this;\n\n      if (this.props.items.length === 0) {\n        return this.noIstioConfig();\n      }\n\n      var rows = [];\n      this.props.items.sort(function (a, b) {\n        if (a.type < b.type) {\n          return -1;\n        } else if (a.type > b.type) {\n          return 1;\n        } else {\n          return a.name < b.name ? -1 : 1;\n        }\n      }).map(function (item, itemIdx) {\n        rows.push({\n          cells: [{\n            title: /*#__PURE__*/React.createElement(\"span\", {\n              __self: _this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 17\n              }\n            }, /*#__PURE__*/React.createElement(PFBadge, {\n              badge: IstioTypes[item.type].badge,\n              position: TooltipPosition.top,\n              __self: _this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 19\n              }\n            }), _this.overviewLink(item))\n          }, {\n            title: /*#__PURE__*/React.createElement(ValidationObjectSummary, {\n              id: itemIdx + '-config-validation',\n              validations: item.validation ? [item.validation] : [],\n              style: {\n                verticalAlign: '-0.5em'\n              },\n              __self: _this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 90,\n                columnNumber: 17\n              }\n            })\n          }]\n        });\n        return rows;\n      });\n      return rows;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(Card, {\n        isCompact: true,\n        id: 'IstioConfigCard',\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(CardHead, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(CardActions, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(CardHeader, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Title, {\n        style: {\n          float: 'left'\n        },\n        headingLevel: \"h5\",\n        size: \"lg\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 13\n        }\n      }, \"Istio Config\"))), /*#__PURE__*/React.createElement(CardBody, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Table, {\n        variant: TableVariant.compact,\n        \"aria-label\": 'list_istio_config',\n        cells: this.columns(),\n        rows: this.rows() // This style is declared on _overrides.scss\n        ,\n        className: \"table\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(TableHeader, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(TableBody, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 13\n        }\n      }))));\n    }\n  }]);\n\n  return IstioConfigCard;\n}(React.Component);\n\nexport default IstioConfigCard;","map":{"version":3,"sources":["/root/GraduateProject/src/components/IstioConfigCard/IstioConfigCard.tsx"],"names":["React","cellWidth","Table","TableBody","TableHeader","TableVariant","Card","CardActions","CardBody","CardHead","CardHeader","EmptyState","EmptyStateBody","EmptyStateVariant","Title","TooltipPosition","ValidationObjectSummary","IstioObjectLink","IstioTypes","style","PFBadge","emtpytStyle","padding","margin","IstioConfigCard","title","transforms","cells","small","props","name","colSpan","item","namespace","type","items","length","noIstioConfig","rows","sort","a","b","map","itemIdx","push","badge","top","overviewLink","validation","verticalAlign","float","compact","columns","Component"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport { IstioConfigItem } from '../../types/IstioConfigList';\nimport { cellWidth, ICell, IRow, Table, TableBody, TableHeader, TableVariant } from '@patternfly/react-table';\nimport {\n  Card,\n  CardActions,\n  CardBody,\n  CardHead,\n  CardHeader,\n  EmptyState,\n  EmptyStateBody,\n  EmptyStateVariant,\n  Title,\n  TooltipPosition\n} from '@patternfly/react-core';\nimport { ValidationObjectSummary } from '../Validations/ValidationObjectSummary';\nimport IstioObjectLink from '../Link/IstioObjectLink';\nimport { IstioTypes } from '../VirtualList/Config';\nimport { style } from 'typestyle';\nimport { PFBadge } from '../Pf/PfBadges';\n\ninterface Props {\n  name: string;\n  items: IstioConfigItem[];\n}\n\nconst emtpytStyle = style({\n  padding: '0 0 0 0',\n  margin: '0 0 0 0'\n});\n\nclass IstioConfigCard extends React.Component<Props> {\n  columns(): ICell[] {\n    return [{ title: 'Name' }, { title: 'Status', transforms: [cellWidth(10) as any] }];\n  }\n\n  noIstioConfig(): IRow[] {\n    return [\n      {\n        cells: [\n          {\n            title: (\n              <EmptyState variant={EmptyStateVariant.small} className={emtpytStyle}>\n                <EmptyStateBody className={emtpytStyle}>No Istio Config found for {this.props.name}</EmptyStateBody>\n              </EmptyState>\n            ),\n            props: { colSpan: 2 }\n          }\n        ]\n      }\n    ];\n  }\n\n  overviewLink(item: IstioConfigItem) {\n    return (\n      <IstioObjectLink name={item.name} namespace={item.namespace || ''} type={item.type}>\n        {item.name}\n      </IstioObjectLink>\n    );\n  }\n\n  rows(): IRow[] {\n    if (this.props.items.length === 0) {\n      return this.noIstioConfig();\n    }\n    let rows: IRow[] = [];\n    this.props.items\n      .sort((a: IstioConfigItem, b: IstioConfigItem) => {\n        if (a.type < b.type) {\n          return -1;\n        } else if (a.type > b.type) {\n          return 1;\n        } else {\n          return a.name < b.name ? -1 : 1;\n        }\n      })\n      .map((item, itemIdx) => {\n        rows.push({\n          cells: [\n            {\n              title: (\n                <span>\n                  <PFBadge badge={IstioTypes[item.type].badge} position={TooltipPosition.top} />\n                  {this.overviewLink(item)}\n                </span>\n              )\n            },\n            {\n              title: (\n                <ValidationObjectSummary\n                  id={itemIdx + '-config-validation'}\n                  validations={item.validation ? [item.validation] : []}\n                  style={{ verticalAlign: '-0.5em' }}\n                />\n              )\n            }\n          ]\n        });\n        return rows;\n      });\n\n    return rows;\n  }\n\n  render() {\n    return (\n      <Card isCompact={true} id={'IstioConfigCard'}>\n        <CardHead>\n          <CardActions />\n          <CardHeader>\n            <Title style={{ float: 'left' }} headingLevel=\"h5\" size=\"lg\">\n              Istio Config\n            </Title>\n          </CardHeader>\n        </CardHead>\n        <CardBody>\n          <Table\n            variant={TableVariant.compact}\n            aria-label={'list_istio_config'}\n            cells={this.columns()}\n            rows={this.rows()}\n            // This style is declared on _overrides.scss\n            className=\"table\"\n          >\n            <TableHeader />\n            <TableBody />\n          </Table>\n        </CardBody>\n      </Card>\n    );\n  }\n}\n\nexport default IstioConfigCard;\n"]},"metadata":{},"sourceType":"module"}