{"ast":null,"code":"import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport { cssList, checkStyleName, getGsapType, isConvert, splitFilterToObject, getTransform, stylesToCss } from 'style-utils';\nimport { getComputedStyle, startConvertToEndUnit, getTransformValue, initFilterValue, getValue, getDefaultStart, getStartAtValue } from '../utils';\nimport Plugins from './';\nvar unitReg = /%|vw|vh|em|rem/i;\n\nvar style = /*#__PURE__*/_createClass( //CSSStyleDeclaration;\nfunction style(_props) {\n  var _this = this;\n\n  _classCallCheck(this, style);\n\n  this.props = void 0;\n  this.computedStyle = void 0;\n  this.root = void 0;\n  this.index = void 0;\n  this.targetIndex = void 0;\n  this.tweenVars = {};\n  this.transformName = void 0;\n  this.filterName = void 0;\n  this.target = void 0;\n  this.start = {};\n  this.startAt = {};\n  this.propsData = {\n    data: {},\n    type: {},\n    unit: {},\n    count: {},\n    splitStr: {},\n    isTransform: {}\n  };\n\n  this.setDefaultData = function () {\n    var props = _this.props;\n\n    for (var k in props) {\n      // Object.keys(props).forEach((k: string) => {\n      var value = props[k];\n      var isArray = value.split && value.split(/\\s+|,/).length > 1 || k.match(/color|fill|stroke/i) || k.match(/shadow/i);\n      var isGradients = (k === 'background' || k === 'backgroundImage') && value.match(/[a-z|-]+\\(([\\s\\S]*?)\\)/gi);\n\n      if (isGradients) {\n        _this.propsData.data[k] = {\n          value: value,\n          plugin: Plugins.GradientsPlugin\n        };\n        continue;\n      }\n\n      if (isArray) {\n        _this.propsData.data[k] = {\n          value: value,\n          plugin: Plugins.ArrayPlugin\n        };\n        continue;\n      }\n\n      var key = getGsapType(k);\n\n      var data = _this.getTweenData(key, props[k]);\n\n      _this.propsData.data[key] = data.data[key];\n      _this.propsData.type[key] = data.type[key];\n      _this.propsData.unit[key] = data.unit[key];\n      _this.propsData.count[key] = data.count[key];\n      _this.propsData.isTransform[key] = isConvert(key) === 'transform';\n\n      if (data.splitStr[key]) {\n        _this.propsData.splitStr[key] = data.splitStr[key];\n      } //});\n\n    }\n  };\n\n  this.getTweenData = function (key, v) {\n    var data = {\n      data: {},\n      isTransform: {},\n      type: {},\n      unit: {},\n      count: {},\n      splitStr: {}\n    };\n    var value = v;\n    data.data[key] = value; // data.type[key] = 'other';\n\n    var dataIsString = typeof data.data[key] === 'string';\n    data.unit[key] = dataIsString ? data.data[key].replace(/[^a-z|%]/g, '') : '';\n    data.count[key] = dataIsString ? data.data[key].replace(/[^+|=|-]/g, '') : '';\n    var d = dataIsString ? parseFloat(data.data[key].replace(/[a-z|%|=]/g, '')) : data.data[key];\n    data.data[key] = !d && d !== 0 ? data.data[key] : d;\n    return data;\n  };\n\n  this.setStartAtValue = function (start, startAt) {\n    return _typeof(startAt) === 'object' ? getStartAtValue(start, startAt) : start;\n  };\n\n  this.getAnimStart = function () {\n    var target = _this.target,\n        root = _this.root,\n        targetIndex = _this.targetIndex,\n        propsData = _this.propsData,\n        s = _this.startAt,\n        start = _this.start,\n        tweenVars = _this.tweenVars;\n    var startAt = {};\n\n    for (var c in s) {\n      //Object.keys(s).forEach(c => {\n      startAt[getGsapType(c)] = s[c]; //});\n    }\n\n    _this.computedStyle = _this.computedStyle || getComputedStyle(target);\n    tweenVars.style = tweenVars.style || {};\n    var transform;\n    var filter;\n\n    for (var key in propsData.data) {\n      var _startAt$key;\n\n      var item = propsData.data[key];\n\n      if (item.plugin) {\n        var plugin = new item.plugin(item.value, key);\n        plugin.target = target;\n        plugin.root = root;\n        plugin.parent = parent;\n        plugin.index = _this.index;\n        plugin.targetIndex = targetIndex;\n        plugin.tweenVars = tweenVars;\n        plugin.startAt = _this.startAt;\n        plugin.computedStyle = _this.computedStyle;\n        item.plugin = plugin;\n        start[key] = plugin.getAnimStart();\n        continue;\n      }\n\n      var cssName = isConvert(key);\n      var styleKey = cssName === 'transform' ? _this.transformName : cssName;\n      styleKey = cssName === 'filter' ? _this.filterName : styleKey;\n      var varsValue = tweenVars.style[styleKey];\n      var styleValue = varsValue !== null && varsValue !== void 0 ? varsValue : _this.computedStyle[cssName];\n      var startData = (_startAt$key = startAt[key]) !== null && _startAt$key !== void 0 ? _startAt$key : styleValue;\n      var endUnit = propsData.unit[key];\n      var startUnit = '';\n\n      if (cssName === 'transform') {\n        transform = transform || (startData === varsValue ? _objectSpread({}, varsValue) : getTransform(_this.computedStyle[_this.transformName]));\n        var startValue = transform[key];\n\n        if (startAt && key in startAt) {\n          var _varsValue$key, _varsValue$key2;\n\n          startValue = _this.setStartAtValue(startAt[key].unit && startAt[key].unit !== 'px' ? startConvertToEndUnit({\n            target: target,\n            computedStyle: _this.computedStyle,\n            style: cssName,\n            value: (_varsValue$key = varsValue === null || varsValue === void 0 ? void 0 : varsValue[key]) !== null && _varsValue$key !== void 0 ? _varsValue$key : startValue,\n            endUnit: startAt[key].unit\n          }) : (_varsValue$key2 = varsValue === null || varsValue === void 0 ? void 0 : varsValue[key]) !== null && _varsValue$key2 !== void 0 ? _varsValue$key2 : startValue, startAt[key]);\n          startUnit = startAt[key].unit;\n\n          if (key === 'scale') {\n            transform.scaleX = startValue;\n            transform.scaleY = startValue;\n          } else {\n            transform[key] = startValue;\n          }\n        }\n\n        if (startUnit !== endUnit) {\n          transform[key] = startConvertToEndUnit({\n            target: target,\n            computedStyle: _this.computedStyle,\n            style: cssName,\n            value: startValue,\n            startUnit: startUnit,\n            endUnit: endUnit\n          });\n        }\n\n        start[_this.transformName] = transform;\n      } else if (cssName === 'filter') {\n        var fKey = cssList.filterConvert[key] || key;\n        filter = filter || (startData === varsValue ? _objectSpread({}, varsValue) : splitFilterToObject(styleValue) || {});\n        filter[fKey] = filter[fKey] || initFilterValue[fKey];\n        var _startValue = filter[fKey];\n\n        if (startAt && key in startAt) {\n          _startValue = _this.setStartAtValue(_startValue, startAt[key]);\n          startUnit = startAt[key].unit;\n          filter[fKey] = _startValue;\n        }\n\n        if (endUnit !== startUnit) {\n          var _this$computedStyle;\n\n          filter[fKey] = startConvertToEndUnit({\n            target: target,\n            computedStyle: _this.computedStyle,\n            style: cssName,\n            value: _startValue,\n            startUnit: startUnit,\n            endUnit: endUnit,\n            fixed: ((_this$computedStyle = _this.computedStyle) === null || _this$computedStyle === void 0 ? void 0 : _this$computedStyle.position) === 'fixed'\n          });\n        }\n\n        start[_this.filterName] = filter;\n      } else {\n        var _startAt$key2;\n\n        startData = (_startAt$key2 = startAt[key]) !== null && _startAt$key2 !== void 0 ? _startAt$key2 : styleValue;\n\n        if (!startData || startData === 'none' || startData === 'auto') {\n          startData = '';\n        } // 计算单位\n\n\n        endUnit = propsData.unit[cssName];\n        startUnit = _typeof(startData) === 'object' ? startData.unit : \"\".concat(startData).replace(/[^a-z|%]/g, '');\n        startData = _this.setStartAtValue(styleValue, startAt[key]);\n\n        if (endUnit !== startUnit) {\n          var _this$computedStyle2;\n\n          startData = startConvertToEndUnit({\n            target: target,\n            computedStyle: _this.computedStyle,\n            style: cssName,\n            value: parseFloat(startData),\n            startUnit: startUnit,\n            endUnit: endUnit,\n            fixed: ((_this$computedStyle2 = _this.computedStyle) === null || _this$computedStyle2 === void 0 ? void 0 : _this$computedStyle2.position) === 'fixed'\n          });\n        }\n\n        start[cssName] = parseFloat(startData) || getDefaultStart(cssName);\n      }\n    }\n\n    return start;\n  };\n\n  this.render = function (ratio) {\n    var propsData = _this.propsData,\n        start = _this.start,\n        t = _this.tweenVars;\n    var tweenVars = t.style || {};\n\n    if (start[_this.transformName] && !tweenVars[_this.transformName]) {\n      tweenVars[_this.transformName] = _objectSpread({}, start[_this.transformName]);\n    }\n\n    if (start[_this.filterName] && !tweenVars[_this.filterName]) {\n      tweenVars[_this.filterName] = _objectSpread({}, start[_this.filterName]);\n    }\n\n    var transform = tweenVars[_this.transformName];\n    var filter = tweenVars[_this.filterName];\n    var data = propsData.data,\n        dataUnit = propsData.unit,\n        dataCount = propsData.count,\n        isTransform = propsData.isTransform;\n\n    for (var key in data) {\n      //Object.keys(data).forEach((key: string) => {\n      var endValue = data[key];\n\n      if (endValue.plugin) {\n        tweenVars[key] = endValue.plugin.render(ratio);\n        continue;\n      }\n\n      var isT = isTransform[key];\n      var startValue = isT ? start[_this.transformName][key] : start[key];\n      var unit = dataUnit[key];\n      var count = dataCount[key];\n\n      if (isT) {\n        if (key === 'scale') {\n          var xStart = start[_this.transformName].scaleX;\n          var yStart = start[_this.transformName].scaleY;\n\n          if (count.charAt(1) === '=') {\n            transform.scaleX = xStart + endValue * ratio;\n            transform.scaleY = yStart + endValue * ratio;\n          } else {\n            transform.scaleX = (endValue - xStart) * ratio + xStart;\n            transform.scaleY = (endValue - yStart) * ratio + yStart;\n          }\n        } else {\n          transform[key] = getValue(parseFloat(startValue), endValue, ratio, count, unit);\n        }\n\n        transform.text = getTransformValue(tweenVars[_this.transformName]);\n      } else if (cssList.filter.indexOf(key) >= 0) {\n        var fKey = cssList.filterConvert[key] || key;\n        startValue = parseFloat(start[_this.filterName][fKey]) || 0;\n        filter[fKey] = getValue(startValue, endValue, ratio, count, unit);\n        filter.text = ''; //Object.keys(filter).forEach(filterKey => {\n\n        for (var filterKey in filter) {\n          if (filterKey === 'text') {\n            continue;\n          }\n\n          filter.text = \"\".concat(filter.text, \" \").concat(filterKey, \"(\").concat(filter[filterKey], \")\").trim();\n        } //});\n\n      } else {\n        var styleUnit = stylesToCss(key, 0);\n        styleUnit = typeof styleUnit === 'number' ? 0 : styleUnit.replace(/[^a-z|%]/g, '');\n        unit = unit || styleUnit;\n\n        if (typeof endValue === 'string') {\n          tweenVars[key] = endValue;\n        } else {\n          tweenVars[key] = getValue(startValue, endValue, ratio, count, unit);\n        }\n      }\n    }\n\n    return tweenVars;\n  };\n\n  this.props = _props;\n  this.transformName = checkStyleName('transform');\n  this.filterName = checkStyleName('filter') || 'filter';\n  this.setDefaultData();\n});\n\nstyle.key = 'style';\nstyle.className = 'style';\nexport default style;","map":{"version":3,"sources":["/root/GraduateProject/node_modules/tween-one/es/plugins/StylePlugin.js"],"names":["_objectSpread","_typeof","_createClass","_classCallCheck","cssList","checkStyleName","getGsapType","isConvert","splitFilterToObject","getTransform","stylesToCss","getComputedStyle","startConvertToEndUnit","getTransformValue","initFilterValue","getValue","getDefaultStart","getStartAtValue","Plugins","unitReg","style","_props","_this","props","computedStyle","root","index","targetIndex","tweenVars","transformName","filterName","target","start","startAt","propsData","data","type","unit","count","splitStr","isTransform","setDefaultData","k","value","isArray","split","length","match","isGradients","plugin","GradientsPlugin","ArrayPlugin","key","getTweenData","v","dataIsString","replace","d","parseFloat","setStartAtValue","getAnimStart","s","c","transform","filter","_startAt$key","item","parent","cssName","styleKey","varsValue","styleValue","startData","endUnit","startUnit","startValue","_varsValue$key","_varsValue$key2","scaleX","scaleY","fKey","filterConvert","_startValue","_this$computedStyle","fixed","position","_startAt$key2","concat","_this$computedStyle2","render","ratio","t","dataUnit","dataCount","endValue","isT","xStart","yStart","charAt","text","indexOf","filterKey","trim","styleUnit","className"],"mappings":"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","sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport { cssList, checkStyleName, getGsapType, isConvert, splitFilterToObject, getTransform, stylesToCss } from 'style-utils';\nimport { getComputedStyle, startConvertToEndUnit, getTransformValue, initFilterValue, getValue, getDefaultStart, getStartAtValue } from '../utils';\nimport Plugins from './';\nvar unitReg = /%|vw|vh|em|rem/i;\n\nvar style = /*#__PURE__*/_createClass( //CSSStyleDeclaration;\nfunction style(_props) {\n  var _this = this;\n\n  _classCallCheck(this, style);\n\n  this.props = void 0;\n  this.computedStyle = void 0;\n  this.root = void 0;\n  this.index = void 0;\n  this.targetIndex = void 0;\n  this.tweenVars = {};\n  this.transformName = void 0;\n  this.filterName = void 0;\n  this.target = void 0;\n  this.start = {};\n  this.startAt = {};\n  this.propsData = {\n    data: {},\n    type: {},\n    unit: {},\n    count: {},\n    splitStr: {},\n    isTransform: {}\n  };\n\n  this.setDefaultData = function () {\n    var props = _this.props;\n\n    for (var k in props) {\n      // Object.keys(props).forEach((k: string) => {\n      var value = props[k];\n      var isArray = value.split && value.split(/\\s+|,/).length > 1 || k.match(/color|fill|stroke/i) || k.match(/shadow/i);\n      var isGradients = (k === 'background' || k === 'backgroundImage') && value.match(/[a-z|-]+\\(([\\s\\S]*?)\\)/gi);\n\n      if (isGradients) {\n        _this.propsData.data[k] = {\n          value: value,\n          plugin: Plugins.GradientsPlugin\n        };\n        continue;\n      }\n\n      if (isArray) {\n        _this.propsData.data[k] = {\n          value: value,\n          plugin: Plugins.ArrayPlugin\n        };\n        continue;\n      }\n\n      var key = getGsapType(k);\n\n      var data = _this.getTweenData(key, props[k]);\n\n      _this.propsData.data[key] = data.data[key];\n      _this.propsData.type[key] = data.type[key];\n      _this.propsData.unit[key] = data.unit[key];\n      _this.propsData.count[key] = data.count[key];\n      _this.propsData.isTransform[key] = isConvert(key) === 'transform';\n\n      if (data.splitStr[key]) {\n        _this.propsData.splitStr[key] = data.splitStr[key];\n      } //});\n\n    }\n  };\n\n  this.getTweenData = function (key, v) {\n    var data = {\n      data: {},\n      isTransform: {},\n      type: {},\n      unit: {},\n      count: {},\n      splitStr: {}\n    };\n    var value = v;\n    data.data[key] = value; // data.type[key] = 'other';\n\n    var dataIsString = typeof data.data[key] === 'string';\n    data.unit[key] = dataIsString ? data.data[key].replace(/[^a-z|%]/g, '') : '';\n    data.count[key] = dataIsString ? data.data[key].replace(/[^+|=|-]/g, '') : '';\n    var d = dataIsString ? parseFloat(data.data[key].replace(/[a-z|%|=]/g, '')) : data.data[key];\n    data.data[key] = !d && d !== 0 ? data.data[key] : d;\n    return data;\n  };\n\n  this.setStartAtValue = function (start, startAt) {\n    return _typeof(startAt) === 'object' ? getStartAtValue(start, startAt) : start;\n  };\n\n  this.getAnimStart = function () {\n    var target = _this.target,\n        root = _this.root,\n        targetIndex = _this.targetIndex,\n        propsData = _this.propsData,\n        s = _this.startAt,\n        start = _this.start,\n        tweenVars = _this.tweenVars;\n    var startAt = {};\n\n    for (var c in s) {\n      //Object.keys(s).forEach(c => {\n      startAt[getGsapType(c)] = s[c]; //});\n    }\n\n    _this.computedStyle = _this.computedStyle || getComputedStyle(target);\n    tweenVars.style = tweenVars.style || {};\n    var transform;\n    var filter;\n\n    for (var key in propsData.data) {\n      var _startAt$key;\n\n      var item = propsData.data[key];\n\n      if (item.plugin) {\n        var plugin = new item.plugin(item.value, key);\n        plugin.target = target;\n        plugin.root = root;\n        plugin.parent = parent;\n        plugin.index = _this.index;\n        plugin.targetIndex = targetIndex;\n        plugin.tweenVars = tweenVars;\n        plugin.startAt = _this.startAt;\n        plugin.computedStyle = _this.computedStyle;\n        item.plugin = plugin;\n        start[key] = plugin.getAnimStart();\n        continue;\n      }\n\n      var cssName = isConvert(key);\n      var styleKey = cssName === 'transform' ? _this.transformName : cssName;\n      styleKey = cssName === 'filter' ? _this.filterName : styleKey;\n      var varsValue = tweenVars.style[styleKey];\n      var styleValue = varsValue !== null && varsValue !== void 0 ? varsValue : _this.computedStyle[cssName];\n      var startData = (_startAt$key = startAt[key]) !== null && _startAt$key !== void 0 ? _startAt$key : styleValue;\n      var endUnit = propsData.unit[key];\n      var startUnit = '';\n\n      if (cssName === 'transform') {\n        transform = transform || (startData === varsValue ? _objectSpread({}, varsValue) : getTransform(_this.computedStyle[_this.transformName]));\n        var startValue = transform[key];\n\n        if (startAt && key in startAt) {\n          var _varsValue$key, _varsValue$key2;\n\n          startValue = _this.setStartAtValue(startAt[key].unit && startAt[key].unit !== 'px' ? startConvertToEndUnit({\n            target: target,\n            computedStyle: _this.computedStyle,\n            style: cssName,\n            value: (_varsValue$key = varsValue === null || varsValue === void 0 ? void 0 : varsValue[key]) !== null && _varsValue$key !== void 0 ? _varsValue$key : startValue,\n            endUnit: startAt[key].unit\n          }) : (_varsValue$key2 = varsValue === null || varsValue === void 0 ? void 0 : varsValue[key]) !== null && _varsValue$key2 !== void 0 ? _varsValue$key2 : startValue, startAt[key]);\n          startUnit = startAt[key].unit;\n\n          if (key === 'scale') {\n            transform.scaleX = startValue;\n            transform.scaleY = startValue;\n          } else {\n            transform[key] = startValue;\n          }\n        }\n\n        if (startUnit !== endUnit) {\n          transform[key] = startConvertToEndUnit({\n            target: target,\n            computedStyle: _this.computedStyle,\n            style: cssName,\n            value: startValue,\n            startUnit: startUnit,\n            endUnit: endUnit\n          });\n        }\n\n        start[_this.transformName] = transform;\n      } else if (cssName === 'filter') {\n        var fKey = cssList.filterConvert[key] || key;\n        filter = filter || (startData === varsValue ? _objectSpread({}, varsValue) : splitFilterToObject(styleValue) || {});\n        filter[fKey] = filter[fKey] || initFilterValue[fKey];\n        var _startValue = filter[fKey];\n\n        if (startAt && key in startAt) {\n          _startValue = _this.setStartAtValue(_startValue, startAt[key]);\n          startUnit = startAt[key].unit;\n          filter[fKey] = _startValue;\n        }\n\n        if (endUnit !== startUnit) {\n          var _this$computedStyle;\n\n          filter[fKey] = startConvertToEndUnit({\n            target: target,\n            computedStyle: _this.computedStyle,\n            style: cssName,\n            value: _startValue,\n            startUnit: startUnit,\n            endUnit: endUnit,\n            fixed: ((_this$computedStyle = _this.computedStyle) === null || _this$computedStyle === void 0 ? void 0 : _this$computedStyle.position) === 'fixed'\n          });\n        }\n\n        start[_this.filterName] = filter;\n      } else {\n        var _startAt$key2;\n\n        startData = (_startAt$key2 = startAt[key]) !== null && _startAt$key2 !== void 0 ? _startAt$key2 : styleValue;\n\n        if (!startData || startData === 'none' || startData === 'auto') {\n          startData = '';\n        } // 计算单位\n\n\n        endUnit = propsData.unit[cssName];\n        startUnit = _typeof(startData) === 'object' ? startData.unit : \"\".concat(startData).replace(/[^a-z|%]/g, '');\n        startData = _this.setStartAtValue(styleValue, startAt[key]);\n\n        if (endUnit !== startUnit) {\n          var _this$computedStyle2;\n\n          startData = startConvertToEndUnit({\n            target: target,\n            computedStyle: _this.computedStyle,\n            style: cssName,\n            value: parseFloat(startData),\n            startUnit: startUnit,\n            endUnit: endUnit,\n            fixed: ((_this$computedStyle2 = _this.computedStyle) === null || _this$computedStyle2 === void 0 ? void 0 : _this$computedStyle2.position) === 'fixed'\n          });\n        }\n\n        start[cssName] = parseFloat(startData) || getDefaultStart(cssName);\n      }\n    }\n\n    return start;\n  };\n\n  this.render = function (ratio) {\n    var propsData = _this.propsData,\n        start = _this.start,\n        t = _this.tweenVars;\n    var tweenVars = t.style || {};\n\n    if (start[_this.transformName] && !tweenVars[_this.transformName]) {\n      tweenVars[_this.transformName] = _objectSpread({}, start[_this.transformName]);\n    }\n\n    if (start[_this.filterName] && !tweenVars[_this.filterName]) {\n      tweenVars[_this.filterName] = _objectSpread({}, start[_this.filterName]);\n    }\n\n    var transform = tweenVars[_this.transformName];\n    var filter = tweenVars[_this.filterName];\n    var data = propsData.data,\n        dataUnit = propsData.unit,\n        dataCount = propsData.count,\n        isTransform = propsData.isTransform;\n\n    for (var key in data) {\n      //Object.keys(data).forEach((key: string) => {\n      var endValue = data[key];\n\n      if (endValue.plugin) {\n        tweenVars[key] = endValue.plugin.render(ratio);\n        continue;\n      }\n\n      var isT = isTransform[key];\n      var startValue = isT ? start[_this.transformName][key] : start[key];\n      var unit = dataUnit[key];\n      var count = dataCount[key];\n\n      if (isT) {\n        if (key === 'scale') {\n          var xStart = start[_this.transformName].scaleX;\n          var yStart = start[_this.transformName].scaleY;\n\n          if (count.charAt(1) === '=') {\n            transform.scaleX = xStart + endValue * ratio;\n            transform.scaleY = yStart + endValue * ratio;\n          } else {\n            transform.scaleX = (endValue - xStart) * ratio + xStart;\n            transform.scaleY = (endValue - yStart) * ratio + yStart;\n          }\n        } else {\n          transform[key] = getValue(parseFloat(startValue), endValue, ratio, count, unit);\n        }\n\n        transform.text = getTransformValue(tweenVars[_this.transformName]);\n      } else if (cssList.filter.indexOf(key) >= 0) {\n        var fKey = cssList.filterConvert[key] || key;\n        startValue = parseFloat(start[_this.filterName][fKey]) || 0;\n        filter[fKey] = getValue(startValue, endValue, ratio, count, unit);\n        filter.text = ''; //Object.keys(filter).forEach(filterKey => {\n\n        for (var filterKey in filter) {\n          if (filterKey === 'text') {\n            continue;\n          }\n\n          filter.text = \"\".concat(filter.text, \" \").concat(filterKey, \"(\").concat(filter[filterKey], \")\").trim();\n        } //});\n\n      } else {\n        var styleUnit = stylesToCss(key, 0);\n        styleUnit = typeof styleUnit === 'number' ? 0 : styleUnit.replace(/[^a-z|%]/g, '');\n        unit = unit || styleUnit;\n\n        if (typeof endValue === 'string') {\n          tweenVars[key] = endValue;\n        } else {\n          tweenVars[key] = getValue(startValue, endValue, ratio, count, unit);\n        }\n      }\n    }\n\n    return tweenVars;\n  };\n\n  this.props = _props;\n  this.transformName = checkStyleName('transform');\n  this.filterName = checkStyleName('filter') || 'filter';\n  this.setDefaultData();\n});\n\nstyle.key = 'style';\nstyle.className = 'style';\nexport default style;"]},"metadata":{},"sourceType":"module"}