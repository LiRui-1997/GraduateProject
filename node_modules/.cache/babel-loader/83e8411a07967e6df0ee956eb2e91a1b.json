{"ast":null,"code":"import { CyNode, CyEdge } from '../components/CytoscapeGraph/CytoscapeGraphUtils';\n\nvar safeRate = function safeRate(rate) {\n  return isNaN(rate) ? 0.0 : Number(rate);\n};\n\nvar NODE_GRPC_IN = {\n  RATE: CyNode.grpcIn,\n  RATEGRPCERR: CyNode.grpcInErr,\n  RATENORESPONSE: CyNode.grpcInNoResponse\n};\nvar EDGE_GRPC = {\n  RATE: CyEdge.grpc,\n  RATEGRPCERR: CyEdge.grpcErr,\n  RATENORESPONSE: CyEdge.grpcNoResponse\n};\nexport var getTrafficRateGrpc = function getTrafficRateGrpc(element) {\n  var trafficType = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : NODE_GRPC_IN;\n  return {\n    rate: safeRate(element.data(trafficType.RATE)),\n    rateGrpcErr: safeRate(element.data(trafficType.RATEGRPCERR)),\n    rateNoResponse: safeRate(element.data(trafficType.RATENORESPONSE))\n  };\n};\nexport var getAccumulatedTrafficRateGrpc = function getAccumulatedTrafficRateGrpc(elements) {\n  return elements.reduce(function (r, element) {\n    var elementTrafficRate = getTrafficRateGrpc(element, EDGE_GRPC);\n    r.rate += elementTrafficRate.rate;\n    r.rateGrpcErr += elementTrafficRate.rateGrpcErr;\n    r.rateNoResponse += elementTrafficRate.rateNoResponse;\n    return r;\n  }, {\n    rate: 0,\n    rateGrpcErr: 0,\n    rateNoResponse: 0\n  });\n};\nvar NODE_HTTP_IN = {\n  RATE: CyNode.httpIn,\n  RATE3XX: CyNode.httpIn3xx,\n  RATE4XX: CyNode.httpIn4xx,\n  RATE5XX: CyNode.httpIn5xx,\n  RATENORESPONSE: CyNode.httpInNoResponse\n};\nvar EDGE_HTTP = {\n  RATE: CyEdge.http,\n  RATE3XX: CyEdge.http3xx,\n  RATE4XX: CyEdge.http4xx,\n  RATE5XX: CyEdge.http5xx,\n  RATENORESPONSE: CyEdge.httpNoResponse\n};\nexport var getTrafficRateHttp = function getTrafficRateHttp(element) {\n  var trafficType = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : NODE_HTTP_IN;\n  return {\n    rate: safeRate(element.data(trafficType.RATE)),\n    rate3xx: safeRate(element.data(trafficType.RATE3XX)),\n    rate4xx: safeRate(element.data(trafficType.RATE4XX)),\n    rate5xx: safeRate(element.data(trafficType.RATE5XX)),\n    rateNoResponse: safeRate(element.data(trafficType.RATENORESPONSE))\n  };\n};\nexport var getAccumulatedTrafficRateHttp = function getAccumulatedTrafficRateHttp(elements) {\n  return elements.reduce(function (r, element) {\n    var elementTrafficRate = getTrafficRateHttp(element, EDGE_HTTP);\n    r.rate += elementTrafficRate.rate;\n    r.rate3xx += elementTrafficRate.rate3xx;\n    r.rate4xx += elementTrafficRate.rate4xx;\n    r.rate5xx += elementTrafficRate.rate5xx;\n    r.rateNoResponse += elementTrafficRate.rateNoResponse;\n    return r;\n  }, {\n    rate: 0,\n    rate3xx: 0,\n    rate4xx: 0,\n    rate5xx: 0,\n    rateNoResponse: 0\n  });\n};\nvar NODE_TCP_IN = {\n  RATE: CyNode.tcpIn\n};\nvar EDGE_TCP = {\n  RATE: CyEdge.tcp\n};\nexport var getTrafficRateTcp = function getTrafficRateTcp(element) {\n  var trafficType = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : NODE_TCP_IN;\n  return {\n    rate: safeRate(element.data(trafficType.RATE))\n  };\n};\nexport var getAccumulatedTrafficRateTcp = function getAccumulatedTrafficRateTcp(elements) {\n  return elements.reduce(function (r, element) {\n    var elementTrafficRate = getTrafficRateTcp(element, EDGE_TCP);\n    r.rate += elementTrafficRate.rate;\n    return r;\n  }, {\n    rate: 0\n  });\n};","map":{"version":3,"sources":["/root/GraduateProject/src/utils/TrafficRate.ts"],"names":["CyNode","CyEdge","safeRate","rate","isNaN","Number","NODE_GRPC_IN","RATE","grpcIn","RATEGRPCERR","grpcInErr","RATENORESPONSE","grpcInNoResponse","EDGE_GRPC","grpc","grpcErr","grpcNoResponse","getTrafficRateGrpc","element","trafficType","data","rateGrpcErr","rateNoResponse","getAccumulatedTrafficRateGrpc","elements","reduce","r","elementTrafficRate","NODE_HTTP_IN","httpIn","RATE3XX","httpIn3xx","RATE4XX","httpIn4xx","RATE5XX","httpIn5xx","httpInNoResponse","EDGE_HTTP","http","http3xx","http4xx","http5xx","httpNoResponse","getTrafficRateHttp","rate3xx","rate4xx","rate5xx","getAccumulatedTrafficRateHttp","NODE_TCP_IN","tcpIn","EDGE_TCP","tcp","getTrafficRateTcp","getAccumulatedTrafficRateTcp"],"mappings":"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","sourcesContent":["import { CyNode, CyEdge } from '../components/CytoscapeGraph/CytoscapeGraphUtils';\n\nconst safeRate = (rate: any) => (isNaN(rate) ? 0.0 : Number(rate));\n\ntype TRAFFIC_GRPC = {\n  RATE: string;\n  RATEGRPCERR: string;\n  RATENORESPONSE: string;\n};\n\nconst NODE_GRPC_IN: TRAFFIC_GRPC = {\n  RATE: CyNode.grpcIn,\n  RATEGRPCERR: CyNode.grpcInErr,\n  RATENORESPONSE: CyNode.grpcInNoResponse\n};\nconst EDGE_GRPC: TRAFFIC_GRPC = {\n  RATE: CyEdge.grpc,\n  RATEGRPCERR: CyEdge.grpcErr,\n  RATENORESPONSE: CyEdge.grpcNoResponse\n};\n\nexport interface TrafficRateGrpc {\n  rate: number;\n  rateGrpcErr: number;\n  rateNoResponse: number;\n}\n\nexport const getTrafficRateGrpc = (element: any, trafficType: TRAFFIC_GRPC = NODE_GRPC_IN): TrafficRateGrpc => {\n  return {\n    rate: safeRate(element.data(trafficType.RATE)),\n    rateGrpcErr: safeRate(element.data(trafficType.RATEGRPCERR)),\n    rateNoResponse: safeRate(element.data(trafficType.RATENORESPONSE))\n  };\n};\n\nexport const getAccumulatedTrafficRateGrpc = (elements): TrafficRateGrpc => {\n  return elements.reduce(\n    (r: TrafficRateGrpc, element): TrafficRateGrpc => {\n      const elementTrafficRate = getTrafficRateGrpc(element, EDGE_GRPC);\n      r.rate += elementTrafficRate.rate;\n      r.rateGrpcErr += elementTrafficRate.rateGrpcErr;\n      r.rateNoResponse += elementTrafficRate.rateNoResponse;\n      return r;\n    },\n    { rate: 0, rateGrpcErr: 0, rateNoResponse: 0 }\n  );\n};\n\ntype TRAFFIC_HTTP = {\n  RATE: string;\n  RATE3XX: string;\n  RATE4XX: string;\n  RATE5XX: string;\n  RATENORESPONSE: string;\n};\n\nconst NODE_HTTP_IN: TRAFFIC_HTTP = {\n  RATE: CyNode.httpIn,\n  RATE3XX: CyNode.httpIn3xx,\n  RATE4XX: CyNode.httpIn4xx,\n  RATE5XX: CyNode.httpIn5xx,\n  RATENORESPONSE: CyNode.httpInNoResponse\n};\nconst EDGE_HTTP: TRAFFIC_HTTP = {\n  RATE: CyEdge.http,\n  RATE3XX: CyEdge.http3xx,\n  RATE4XX: CyEdge.http4xx,\n  RATE5XX: CyEdge.http5xx,\n  RATENORESPONSE: CyEdge.httpNoResponse\n};\n\nexport interface TrafficRateHttp {\n  rate: number;\n  rate3xx: number;\n  rate4xx: number;\n  rate5xx: number;\n  rateNoResponse: number;\n}\n\nexport const getTrafficRateHttp = (element: any, trafficType: TRAFFIC_HTTP = NODE_HTTP_IN): TrafficRateHttp => {\n  return {\n    rate: safeRate(element.data(trafficType.RATE)),\n    rate3xx: safeRate(element.data(trafficType.RATE3XX)),\n    rate4xx: safeRate(element.data(trafficType.RATE4XX)),\n    rate5xx: safeRate(element.data(trafficType.RATE5XX)),\n    rateNoResponse: safeRate(element.data(trafficType.RATENORESPONSE))\n  };\n};\n\nexport const getAccumulatedTrafficRateHttp = (elements): TrafficRateHttp => {\n  return elements.reduce(\n    (r: TrafficRateHttp, element): TrafficRateHttp => {\n      const elementTrafficRate = getTrafficRateHttp(element, EDGE_HTTP);\n      r.rate += elementTrafficRate.rate;\n      r.rate3xx += elementTrafficRate.rate3xx;\n      r.rate4xx += elementTrafficRate.rate4xx;\n      r.rate5xx += elementTrafficRate.rate5xx;\n      r.rateNoResponse += elementTrafficRate.rateNoResponse;\n      return r;\n    },\n    { rate: 0, rate3xx: 0, rate4xx: 0, rate5xx: 0, rateNoResponse: 0 }\n  );\n};\n\ntype TRAFFIC_TCP = {\n  RATE: string;\n};\n\nconst NODE_TCP_IN: TRAFFIC_TCP = {\n  RATE: CyNode.tcpIn\n};\nconst EDGE_TCP: TRAFFIC_TCP = {\n  RATE: CyEdge.tcp\n};\n\nexport interface TrafficRateTcp {\n  rate: number;\n}\n\nexport const getTrafficRateTcp = (element: any, trafficType: TRAFFIC_TCP = NODE_TCP_IN): TrafficRateTcp => {\n  return {\n    rate: safeRate(element.data(trafficType.RATE))\n  };\n};\n\nexport const getAccumulatedTrafficRateTcp = (elements): TrafficRateTcp => {\n  return elements.reduce(\n    (r: TrafficRateTcp, element): TrafficRateTcp => {\n      const elementTrafficRate = getTrafficRateTcp(element, EDGE_TCP);\n      r.rate += elementTrafficRate.rate;\n      return r;\n    },\n    { rate: 0 }\n  );\n};\n"]},"metadata":{},"sourceType":"module"}