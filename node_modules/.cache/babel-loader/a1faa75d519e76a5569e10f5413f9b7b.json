{"ast":null,"code":"import _createForOfIteratorHelper from \"/root/kiali-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";\nimport _toConsumableArray from \"/root/kiali-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/root/kiali-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/root/kiali-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nexport var AutoComplete = /*#__PURE__*/function () {\n  function AutoComplete(options) {\n    _classCallCheck(this, AutoComplete);\n\n    this.options = options;\n    this.endings = void 0;\n    this.start = void 0;\n    this.endings = _toConsumableArray(options);\n    this.start = '';\n  }\n\n  _createClass(AutoComplete, [{\n    key: \"setInput\",\n    value: function setInput(input, delims) {\n      delims = !delims ? [' '] : delims;\n      var lastDelim = -1;\n\n      var _iterator = _createForOfIteratorHelper(delims),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var d = _step.value;\n          var i = input.lastIndexOf(d);\n          lastDelim = i > lastDelim ? i : lastDelim;\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      this.start = lastDelim < 0 ? '' : input.slice(0, lastDelim + 1);\n      var end = lastDelim < 0 ? input : input.slice(lastDelim + 1);\n      this.endings = !end ? _toConsumableArray(this.options) : this.options.filter(function (o) {\n        return o.startsWith(end) && o !== end;\n      });\n\n      if (!this.endings.length) {\n        this.start = input;\n      }\n    }\n  }, {\n    key: \"next\",\n    value: function next() {\n      if (!this.endings.length) {\n        return this.start;\n      }\n\n      var nextEnding = this.endings.shift();\n      this.endings.push(nextEnding);\n      return \"\".concat(this.start).concat(nextEnding);\n    }\n  }]);\n\n  return AutoComplete;\n}();","map":{"version":3,"sources":["/root/kiali-ui/src/utils/AutoComplete.ts"],"names":["AutoComplete","options","endings","start","input","delims","lastDelim","d","i","lastIndexOf","slice","end","filter","o","startsWith","length","nextEnding","shift","push"],"mappings":";;;;AAAA,WAAaA,YAAb;AAIE,wBAAoBC,OAApB,EAAuC;AAAA;;AAAA,SAAnBA,OAAmB,GAAnBA,OAAmB;AAAA,SAH/BC,OAG+B;AAAA,SAF/BC,KAE+B;AACrC,SAAKD,OAAL,sBAAmBD,OAAnB;AACA,SAAKE,KAAL,GAAa,EAAb;AACD;;AAPH;AAAA;AAAA,WASE,kBAASC,KAAT,EAAwBC,MAAxB,EAA2C;AACzCA,MAAAA,MAAM,GAAG,CAACA,MAAD,GAAU,CAAC,GAAD,CAAV,GAAkBA,MAA3B;AACA,UAAIC,SAAS,GAAG,CAAC,CAAjB;;AAFyC,iDAGzBD,MAHyB;AAAA;;AAAA;AAGzC,4DAAwB;AAAA,cAAbE,CAAa;AACtB,cAAMC,CAAC,GAAGJ,KAAK,CAACK,WAAN,CAAkBF,CAAlB,CAAV;AACAD,UAAAA,SAAS,GAAGE,CAAC,GAAGF,SAAJ,GAAgBE,CAAhB,GAAoBF,SAAhC;AACD;AANwC;AAAA;AAAA;AAAA;AAAA;;AAQzC,WAAKH,KAAL,GAAaG,SAAS,GAAG,CAAZ,GAAgB,EAAhB,GAAqBF,KAAK,CAACM,KAAN,CAAY,CAAZ,EAAeJ,SAAS,GAAG,CAA3B,CAAlC;AACA,UAAMK,GAAG,GAAGL,SAAS,GAAG,CAAZ,GAAgBF,KAAhB,GAAwBA,KAAK,CAACM,KAAN,CAAYJ,SAAS,GAAG,CAAxB,CAApC;AAEA,WAAKJ,OAAL,GAAe,CAACS,GAAD,sBAAW,KAAKV,OAAhB,IAA2B,KAAKA,OAAL,CAAaW,MAAb,CAAoB,UAAAC,CAAC;AAAA,eAAIA,CAAC,CAACC,UAAF,CAAaH,GAAb,KAAqBE,CAAC,KAAKF,GAA/B;AAAA,OAArB,CAA1C;;AAEA,UAAI,CAAC,KAAKT,OAAL,CAAaa,MAAlB,EAA0B;AACxB,aAAKZ,KAAL,GAAaC,KAAb;AACD;AACF;AAzBH;AAAA;AAAA,WA2BE,gBAAe;AACb,UAAI,CAAC,KAAKF,OAAL,CAAaa,MAAlB,EAA0B;AACxB,eAAO,KAAKZ,KAAZ;AACD;;AACD,UAAMa,UAAU,GAAG,KAAKd,OAAL,CAAae,KAAb,EAAnB;AACA,WAAKf,OAAL,CAAagB,IAAb,CAAkBF,UAAlB;AACA,uBAAU,KAAKb,KAAf,SAAuBa,UAAvB;AACD;AAlCH;;AAAA;AAAA","sourcesContent":["export class AutoComplete {\n  private endings: string[];\n  private start: string;\n\n  constructor(private options: string[]) {\n    this.endings = [...options];\n    this.start = '';\n  }\n\n  setInput(input: string, delims?: string[]) {\n    delims = !delims ? [' '] : delims;\n    let lastDelim = -1;\n    for (const d of delims) {\n      const i = input.lastIndexOf(d);\n      lastDelim = i > lastDelim ? i : lastDelim;\n    }\n\n    this.start = lastDelim < 0 ? '' : input.slice(0, lastDelim + 1);\n    const end = lastDelim < 0 ? input : input.slice(lastDelim + 1);\n\n    this.endings = !end ? [...this.options] : this.options.filter(o => o.startsWith(end) && o !== end);\n\n    if (!this.endings.length) {\n      this.start = input;\n    }\n  }\n\n  next(): string {\n    if (!this.endings.length) {\n      return this.start;\n    }\n    const nextEnding = this.endings.shift();\n    this.endings.push(nextEnding!);\n    return `${this.start}${nextEnding}`;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}