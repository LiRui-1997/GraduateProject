{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport { parseColor, getColor, parseShadow } from 'style-utils';\nimport { getValue, shadowExp, startConvertToEndUnit, styleValueToArray, colorRegExp } from '../utils';\n\nvar ArrayPlugin = /*#__PURE__*/_createClass(function ArrayPlugin(_value, _key) {\n  var _this = this;\n\n  _classCallCheck(this, ArrayPlugin);\n\n  this.value = void 0;\n  this.key = void 0;\n  this.startAt = void 0;\n  this.start = [];\n  this.tweenVars = {};\n  this.vars = {};\n  this.computedStyle = void 0;\n  this.target = void 0;\n  this.propsData = {\n    data: [],\n    unit: [],\n    count: []\n  };\n\n  this.setDefaultData = function (type, splitStr) {\n    var propsData = _this.propsData,\n        value = _this.value;\n\n    var v = _toConsumableArray(value);\n\n    if (type === 'color') {\n      var _v$;\n\n      v[3] = (_v$ = v[3]) !== null && _v$ !== void 0 ? _v$ : 1;\n    }\n\n    propsData.type = type;\n    propsData.data = v.map(function (c) {\n      return !parseFloat(c) && parseFloat(c) !== 0 ? c : parseFloat(c);\n    });\n    propsData.unit = v.map(function (c) {\n      return c.toString().replace(/[^a-z|%]/g, '');\n    });\n    propsData.count = v.map(function (c) {\n      return c.toString().replace(/[^+|=|-]/g, '');\n    });\n\n    if (splitStr) {\n      propsData.splitStr = splitStr;\n    }\n  };\n\n  this.convertToMarksArray = function (unit, key, data, i) {\n    var startUnit = (data || '').toString().replace(/[^a-z|%]/g, '');\n    var endUnit = typeof i === 'number' ? unit[i] : undefined;\n\n    if (startUnit === endUnit) {\n      return parseFloat(data);\n    } else if (!parseFloat(data) && parseFloat(data) !== 0) {\n      return data;\n    }\n\n    return startConvertToEndUnit({\n      target: _this.target,\n      computedStyle: _this.computedStyle,\n      style: key,\n      value: data,\n      startUnit: startUnit,\n      endUnit: endUnit,\n      isOriginWidth: key === 'transformOrigin' && !i\n    });\n  };\n\n  this.getAnimStart = function () {\n    var _ref, _startAt$key, _tweenVars$style;\n\n    var startAt = _this.startAt,\n        target = _this.target,\n        key = _this.key,\n        propsData = _this.propsData,\n        computedStyle = _this.computedStyle,\n        tweenVars = _this.tweenVars;\n    var startValue = (_ref = (_startAt$key = startAt === null || startAt === void 0 ? void 0 : startAt[key]) !== null && _startAt$key !== void 0 ? _startAt$key : computedStyle ? (_tweenVars$style = tweenVars.style) === null || _tweenVars$style === void 0 ? void 0 : _tweenVars$style[key] : tweenVars[key]) !== null && _ref !== void 0 ? _ref : (computedStyle || target)[key];\n    var inset = propsData.data.indexOf('inset');\n    var oldShadow;\n\n    if (inset !== -1 && !startValue.match('inset') && propsData.type === 'shadow') {\n      oldShadow = startValue;\n      startValue = '';\n    }\n\n    if (!startValue || startValue === 'none' || startValue === 'auto') {\n      startValue = '';\n    }\n\n    startValue = propsData.type === 'shadow' ? parseShadow(startValue, key) : startValue;\n    startValue = propsData.type === 'color' ? parseColor(startValue) : startValue;\n    startValue = propsData.type === 'string' ? startValue.split(/[\\s|,]/) : startValue;\n\n    if (styleValueToArray[key]) {\n      var _startValue$, _startValue$2, _ref2, _startValue$3;\n\n      startValue[1] = (_startValue$ = startValue[1]) !== null && _startValue$ !== void 0 ? _startValue$ : startValue[0];\n      startValue[2] = (_startValue$2 = startValue[2]) !== null && _startValue$2 !== void 0 ? _startValue$2 : startValue[0];\n      startValue[3] = (_ref2 = (_startValue$3 = startValue[3]) !== null && _startValue$3 !== void 0 ? _startValue$3 : startValue[1]) !== null && _ref2 !== void 0 ? _ref2 : startValue[0];\n    }\n\n    var endUnit = propsData.unit;\n    var startData = startValue.map(function (c, i) {\n      if (parseFloat(c).toString() === 'NaN') {\n        return c;\n      }\n\n      return _this.convertToMarksArray(endUnit, key, c, i);\n    });\n    _this.start = startData.concat(inset >= 0 ? 'inset' : []);\n    _this.start.oldShadow = oldShadow;\n    return _this.start;\n  };\n\n  this.render = function (ratio) {\n    var start = _this.start,\n        propsData = _this.propsData;\n    var type = propsData.type,\n        splitStr = propsData.splitStr,\n        data = propsData.data,\n        count = propsData.count,\n        unit = propsData.unit;\n    var ratioData = data.map(function (c, i) {\n      return typeof c === 'string' ? c : getValue(start[i], c, ratio, count[i], unit[i]);\n    });\n\n    switch (type) {\n      case 'string':\n        ratioData = ratioData.join(splitStr);\n        break;\n\n      case 'color':\n        ratioData = getColor(ratioData);\n        break;\n\n      case 'shadow':\n        {\n          var endInset = ratioData.indexOf('inset') >= 0;\n          var r = endInset ? ratioData.filter(function (c) {\n            return c !== 'inset';\n          }) : ratioData;\n          var s = r.slice(0, r.length - 4).map(function (a) {\n            if (typeof a === 'number') {\n              return \"\".concat(a, \"px\");\n            }\n\n            return a;\n          });\n          var c = getColor(r.slice(r.length - 4, r.length));\n          ratioData = \"\".concat(start.oldShadow ? \"\".concat(start.oldShadow, \",\") : '').concat(s.join(' '), \" \").concat(c, \" \").concat(endInset ? 'inset' : '').trim();\n          break;\n        }\n\n      default:\n        break;\n    }\n\n    return ratioData;\n  };\n\n  this.value = _value;\n  this.key = _key;\n  var _type = '';\n  var _splitStr = '';\n\n  if (typeof _value === 'string') {\n    if (_key.match(shadowExp)) {\n      this.value = parseShadow(_value, _key);\n      _type = 'shadow';\n    } else if (_key.match(/color|fill|stroke/i) || _value.match(colorRegExp)) {\n      this.value = parseColor(_value);\n      _type = 'color';\n    } else {\n      _splitStr = _value.replace(/[^\\s|,]/g, '').replace(/\\s+/g, ' ');\n      this.value = _value.split(/[\\s|,]/);\n      _type = 'string';\n    }\n  }\n\n  this.setDefaultData(_type, _splitStr);\n});\n\nArrayPlugin.className = 'ArrayPlugin';\nexport default ArrayPlugin;","map":{"version":3,"sources":["/root/GraduateProject/node_modules/tween-one/es/plugins/ArrayPlugin.js"],"names":["_toConsumableArray","_createClass","_classCallCheck","parseColor","getColor","parseShadow","getValue","shadowExp","startConvertToEndUnit","styleValueToArray","colorRegExp","ArrayPlugin","_value","_key","_this","value","key","startAt","start","tweenVars","vars","computedStyle","target","propsData","data","unit","count","setDefaultData","type","splitStr","v","_v$","map","c","parseFloat","toString","replace","convertToMarksArray","i","startUnit","endUnit","undefined","style","isOriginWidth","getAnimStart","_ref","_startAt$key","_tweenVars$style","startValue","inset","indexOf","oldShadow","match","split","_startValue$","_startValue$2","_ref2","_startValue$3","startData","concat","render","ratio","ratioData","join","endInset","r","filter","s","slice","length","a","trim","_type","_splitStr","className"],"mappings":"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","sourcesContent":["import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport { parseColor, getColor, parseShadow } from 'style-utils';\nimport { getValue, shadowExp, startConvertToEndUnit, styleValueToArray, colorRegExp } from '../utils';\n\nvar ArrayPlugin = /*#__PURE__*/_createClass(function ArrayPlugin(_value, _key) {\n  var _this = this;\n\n  _classCallCheck(this, ArrayPlugin);\n\n  this.value = void 0;\n  this.key = void 0;\n  this.startAt = void 0;\n  this.start = [];\n  this.tweenVars = {};\n  this.vars = {};\n  this.computedStyle = void 0;\n  this.target = void 0;\n  this.propsData = {\n    data: [],\n    unit: [],\n    count: []\n  };\n\n  this.setDefaultData = function (type, splitStr) {\n    var propsData = _this.propsData,\n        value = _this.value;\n\n    var v = _toConsumableArray(value);\n\n    if (type === 'color') {\n      var _v$;\n\n      v[3] = (_v$ = v[3]) !== null && _v$ !== void 0 ? _v$ : 1;\n    }\n\n    propsData.type = type;\n    propsData.data = v.map(function (c) {\n      return !parseFloat(c) && parseFloat(c) !== 0 ? c : parseFloat(c);\n    });\n    propsData.unit = v.map(function (c) {\n      return c.toString().replace(/[^a-z|%]/g, '');\n    });\n    propsData.count = v.map(function (c) {\n      return c.toString().replace(/[^+|=|-]/g, '');\n    });\n\n    if (splitStr) {\n      propsData.splitStr = splitStr;\n    }\n  };\n\n  this.convertToMarksArray = function (unit, key, data, i) {\n    var startUnit = (data || '').toString().replace(/[^a-z|%]/g, '');\n    var endUnit = typeof i === 'number' ? unit[i] : undefined;\n\n    if (startUnit === endUnit) {\n      return parseFloat(data);\n    } else if (!parseFloat(data) && parseFloat(data) !== 0) {\n      return data;\n    }\n\n    return startConvertToEndUnit({\n      target: _this.target,\n      computedStyle: _this.computedStyle,\n      style: key,\n      value: data,\n      startUnit: startUnit,\n      endUnit: endUnit,\n      isOriginWidth: key === 'transformOrigin' && !i\n    });\n  };\n\n  this.getAnimStart = function () {\n    var _ref, _startAt$key, _tweenVars$style;\n\n    var startAt = _this.startAt,\n        target = _this.target,\n        key = _this.key,\n        propsData = _this.propsData,\n        computedStyle = _this.computedStyle,\n        tweenVars = _this.tweenVars;\n    var startValue = (_ref = (_startAt$key = startAt === null || startAt === void 0 ? void 0 : startAt[key]) !== null && _startAt$key !== void 0 ? _startAt$key : computedStyle ? (_tweenVars$style = tweenVars.style) === null || _tweenVars$style === void 0 ? void 0 : _tweenVars$style[key] : tweenVars[key]) !== null && _ref !== void 0 ? _ref : (computedStyle || target)[key];\n    var inset = propsData.data.indexOf('inset');\n    var oldShadow;\n\n    if (inset !== -1 && !startValue.match('inset') && propsData.type === 'shadow') {\n      oldShadow = startValue;\n      startValue = '';\n    }\n\n    if (!startValue || startValue === 'none' || startValue === 'auto') {\n      startValue = '';\n    }\n\n    startValue = propsData.type === 'shadow' ? parseShadow(startValue, key) : startValue;\n    startValue = propsData.type === 'color' ? parseColor(startValue) : startValue;\n    startValue = propsData.type === 'string' ? startValue.split(/[\\s|,]/) : startValue;\n\n    if (styleValueToArray[key]) {\n      var _startValue$, _startValue$2, _ref2, _startValue$3;\n\n      startValue[1] = (_startValue$ = startValue[1]) !== null && _startValue$ !== void 0 ? _startValue$ : startValue[0];\n      startValue[2] = (_startValue$2 = startValue[2]) !== null && _startValue$2 !== void 0 ? _startValue$2 : startValue[0];\n      startValue[3] = (_ref2 = (_startValue$3 = startValue[3]) !== null && _startValue$3 !== void 0 ? _startValue$3 : startValue[1]) !== null && _ref2 !== void 0 ? _ref2 : startValue[0];\n    }\n\n    var endUnit = propsData.unit;\n    var startData = startValue.map(function (c, i) {\n      if (parseFloat(c).toString() === 'NaN') {\n        return c;\n      }\n\n      return _this.convertToMarksArray(endUnit, key, c, i);\n    });\n    _this.start = startData.concat(inset >= 0 ? 'inset' : []);\n    _this.start.oldShadow = oldShadow;\n    return _this.start;\n  };\n\n  this.render = function (ratio) {\n    var start = _this.start,\n        propsData = _this.propsData;\n    var type = propsData.type,\n        splitStr = propsData.splitStr,\n        data = propsData.data,\n        count = propsData.count,\n        unit = propsData.unit;\n    var ratioData = data.map(function (c, i) {\n      return typeof c === 'string' ? c : getValue(start[i], c, ratio, count[i], unit[i]);\n    });\n\n    switch (type) {\n      case 'string':\n        ratioData = ratioData.join(splitStr);\n        break;\n\n      case 'color':\n        ratioData = getColor(ratioData);\n        break;\n\n      case 'shadow':\n        {\n          var endInset = ratioData.indexOf('inset') >= 0;\n          var r = endInset ? ratioData.filter(function (c) {\n            return c !== 'inset';\n          }) : ratioData;\n          var s = r.slice(0, r.length - 4).map(function (a) {\n            if (typeof a === 'number') {\n              return \"\".concat(a, \"px\");\n            }\n\n            return a;\n          });\n          var c = getColor(r.slice(r.length - 4, r.length));\n          ratioData = \"\".concat(start.oldShadow ? \"\".concat(start.oldShadow, \",\") : '').concat(s.join(' '), \" \").concat(c, \" \").concat(endInset ? 'inset' : '').trim();\n          break;\n        }\n\n      default:\n        break;\n    }\n\n    return ratioData;\n  };\n\n  this.value = _value;\n  this.key = _key;\n  var _type = '';\n  var _splitStr = '';\n\n  if (typeof _value === 'string') {\n    if (_key.match(shadowExp)) {\n      this.value = parseShadow(_value, _key);\n      _type = 'shadow';\n    } else if (_key.match(/color|fill|stroke/i) || _value.match(colorRegExp)) {\n      this.value = parseColor(_value);\n      _type = 'color';\n    } else {\n      _splitStr = _value.replace(/[^\\s|,]/g, '').replace(/\\s+/g, ' ');\n      this.value = _value.split(/[\\s|,]/);\n      _type = 'string';\n    }\n  }\n\n  this.setDefaultData(_type, _splitStr);\n});\n\nArrayPlugin.className = 'ArrayPlugin';\nexport default ArrayPlugin;"]},"metadata":{},"sourceType":"module"}