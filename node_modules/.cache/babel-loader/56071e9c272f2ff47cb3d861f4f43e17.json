{"ast":null,"code":"import _classCallCheck from \"/root/GraduateProject/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/root/GraduateProject/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/root/GraduateProject/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/root/GraduateProject/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/root/GraduateProject/src/components/SwitchErrorBoundary/SwitchErrorBoundary.tsx\";\nimport * as React from 'react';\nimport { Route, Switch } from 'react-router-dom'; // import AnimatedRouter from 'react-animated-router';\n// import 'react-animated-router/animate.css';\n\nvar SwitchErrorBoundary = /*#__PURE__*/function (_React$Component) {\n  _inherits(SwitchErrorBoundary, _React$Component);\n\n  var _super = _createSuper(SwitchErrorBoundary);\n\n  function SwitchErrorBoundary(props) {\n    var _this;\n\n    _classCallCheck(this, SwitchErrorBoundary);\n\n    _this = _super.call(this, props);\n    _this.show = void 0;\n    _this.state = {\n      hasError: false\n    };\n    _this.show = false;\n    return _this;\n  }\n\n  _createClass(SwitchErrorBoundary, [{\n    key: \"componentDidCatch\",\n    value: function componentDidCatch(error, info) {\n      if (this.props.onError) {\n        this.props.onError(error, info);\n      }\n\n      this.setState({\n        hasError: true\n      });\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      if (this.state.hasError) {\n        if (this.show) {\n          this.setState({\n            hasError: false\n          });\n        }\n\n        this.show = !this.show;\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(Switch, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 7\n        }\n      }, this.state.hasError && /*#__PURE__*/React.createElement(Route, {\n        component: this.props.fallBackComponent,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 33\n        }\n      }), this.props.children);\n    }\n  }]);\n\n  return SwitchErrorBoundary;\n}(React.Component);\n\nexport { SwitchErrorBoundary as default };","map":{"version":3,"sources":["/root/GraduateProject/src/components/SwitchErrorBoundary/SwitchErrorBoundary.tsx"],"names":["React","Route","Switch","SwitchErrorBoundary","props","show","state","hasError","error","info","onError","setState","fallBackComponent","children","Component"],"mappings":";;;;;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAASC,KAAT,EAAgBC,MAAhB,QAA8B,kBAA9B,C,CACA;AACA;;IAaqBC,mB;;;;;AAGnB,+BAAYC,KAAZ,EAA6C;AAAA;;AAAA;;AAC3C,8BAAMA,KAAN;AAD2C,UAFrCC,IAEqC;AAE3C,UAAKC,KAAL,GAAa;AAAEC,MAAAA,QAAQ,EAAE;AAAZ,KAAb;AACA,UAAKF,IAAL,GAAY,KAAZ;AAH2C;AAI5C;;;;WAED,2BAAkBG,KAAlB,EAA8BC,IAA9B,EAAyC;AACvC,UAAI,KAAKL,KAAL,CAAWM,OAAf,EAAwB;AACtB,aAAKN,KAAL,CAAWM,OAAX,CAAmBF,KAAnB,EAA0BC,IAA1B;AACD;;AACD,WAAKE,QAAL,CAAc;AAAEJ,QAAAA,QAAQ,EAAE;AAAZ,OAAd;AACD;;;WAED,8BAAqB;AACnB,UAAI,KAAKD,KAAL,CAAWC,QAAf,EAAyB;AACvB,YAAI,KAAKF,IAAT,EAAe;AACb,eAAKM,QAAL,CAAc;AAAEJ,YAAAA,QAAQ,EAAE;AAAZ,WAAd;AACD;;AACD,aAAKF,IAAL,GAAY,CAAC,KAAKA,IAAlB;AACD;AACF;;;WAED,kBAAS;AACP,0BACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,KAAKC,KAAL,CAAWC,QAAX,iBAAuB,oBAAC,KAAD;AAAO,QAAA,SAAS,EAAE,KAAKH,KAAL,CAAWQ,iBAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAD1B,EAEG,KAAKR,KAAL,CAAWS,QAFd,CADF;AAMD;;;;EAhC8Cb,KAAK,CAACc,S;;SAAlCX,mB","sourcesContent":["import * as React from 'react';\nimport { Route, Switch } from 'react-router-dom';\n// import AnimatedRouter from 'react-animated-router';\n// import 'react-animated-router/animate.css';\n\ntype ErrorHandlerFunction = (error: Error, componentStack: string) => void;\n\ntype SwitchErrorBoundaryProps = {\n  fallBackComponent: any;\n  onError?: ErrorHandlerFunction;\n};\n\ntype SwitchErrorBoundaryState = {\n  hasError: boolean;\n};\n\nexport default class SwitchErrorBoundary extends React.Component<SwitchErrorBoundaryProps, SwitchErrorBoundaryState> {\n  private show: boolean;\n\n  constructor(props: SwitchErrorBoundaryProps) {\n    super(props);\n    this.state = { hasError: false };\n    this.show = false;\n  }\n\n  componentDidCatch(error: any, info: any) {\n    if (this.props.onError) {\n      this.props.onError(error, info);\n    }\n    this.setState({ hasError: true });\n  }\n\n  componentDidUpdate() {\n    if (this.state.hasError) {\n      if (this.show) {\n        this.setState({ hasError: false });\n      }\n      this.show = !this.show;\n    }\n  }\n\n  render() {\n    return (\n      <Switch>\n        {this.state.hasError && <Route component={this.props.fallBackComponent} />}\n        {this.props.children}\n      </Switch>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}