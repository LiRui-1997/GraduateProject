{"ast":null,"code":"import _classCallCheck from \"/root/GraduateProject/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/root/GraduateProject/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/root/GraduateProject/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/root/GraduateProject/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/root/GraduateProject/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/root/GraduateProject/src/pages/IstioConfigNew/RequestAuthorizationForm/JwtRuleList.tsx\";\nimport { cellWidth, Table, TableBody, TableHeader } from '@patternfly/react-table';\nimport { style } from 'typestyle';\nimport { PFColors } from '../../../components/Pf/PfColors';\nimport * as React from 'react';\nimport { formatJwtField } from './JwtRuleBuilder';\nvar headerCells = [{\n  title: 'JWT Rules to be validated',\n  transforms: [cellWidth(100)],\n  props: {}\n}, {\n  title: '',\n  props: {}\n}];\nvar noJWTRulesStyle = style({\n  marginTop: 10,\n  color: PFColors.Red100,\n  textAlign: 'center',\n  width: '100%'\n});\n\nvar JwtRuleList = /*#__PURE__*/function (_React$Component) {\n  _inherits(JwtRuleList, _React$Component);\n\n  var _super = _createSuper(JwtRuleList);\n\n  function JwtRuleList() {\n    var _this;\n\n    _classCallCheck(this, JwtRuleList);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _this.rows = function () {\n      return _this.props.jwtRules.map(function (jwtRule, i) {\n        return {\n          key: 'jwtRule' + i,\n          cells: [/*#__PURE__*/React.createElement(React.Fragment, null, jwtRule.issuer ? /*#__PURE__*/React.createElement(\"div\", {\n            __self: _assertThisInitialized(_this),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 40,\n              columnNumber: 15\n            }\n          }, /*#__PURE__*/React.createElement(\"b\", {\n            __self: _assertThisInitialized(_this),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 41,\n              columnNumber: 17\n            }\n          }, \"issuer\"), \": [\", formatJwtField('issuer', jwtRule), \"]\") : undefined, jwtRule.audiences ? /*#__PURE__*/React.createElement(\"div\", {\n            __self: _assertThisInitialized(_this),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 45,\n              columnNumber: 15\n            }\n          }, /*#__PURE__*/React.createElement(\"b\", {\n            __self: _assertThisInitialized(_this),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 46,\n              columnNumber: 17\n            }\n          }, \"audiences\"), \": [\", formatJwtField('audiences', jwtRule), \"]\") : undefined, jwtRule.jwks ? /*#__PURE__*/React.createElement(\"div\", {\n            __self: _assertThisInitialized(_this),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 15\n            }\n          }, /*#__PURE__*/React.createElement(\"b\", {\n            __self: _assertThisInitialized(_this),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 17\n            }\n          }, \"jwks\"), \": [\", formatJwtField('jwks', jwtRule), \"]\") : undefined, jwtRule.jwksUri ? /*#__PURE__*/React.createElement(\"div\", {\n            __self: _assertThisInitialized(_this),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 15\n            }\n          }, /*#__PURE__*/React.createElement(\"b\", {\n            __self: _assertThisInitialized(_this),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 17\n            }\n          }, \"jwksUri\"), \": [\", formatJwtField('jwksUri', jwtRule), \"]\") : undefined, jwtRule.fromHeaders ? /*#__PURE__*/React.createElement(\"div\", {\n            __self: _assertThisInitialized(_this),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 15\n            }\n          }, /*#__PURE__*/React.createElement(\"b\", {\n            __self: _assertThisInitialized(_this),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 17\n            }\n          }, \"fromHeaders\"), \": [\", formatJwtField('fromHeaders', jwtRule), \"]\") : undefined, jwtRule.fromParams ? /*#__PURE__*/React.createElement(\"div\", {\n            __self: _assertThisInitialized(_this),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 15\n            }\n          }, /*#__PURE__*/React.createElement(\"b\", {\n            __self: _assertThisInitialized(_this),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 17\n            }\n          }, \"fromParams\"), \": [\", formatJwtField('fromParams', jwtRule), \"]\") : undefined, jwtRule.outputPayloadToHeader ? /*#__PURE__*/React.createElement(\"div\", {\n            __self: _assertThisInitialized(_this),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 15\n            }\n          }, /*#__PURE__*/React.createElement(\"b\", {\n            __self: _assertThisInitialized(_this),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 17\n            }\n          }, \"outputPayloadToHeader\"), \": [\", formatJwtField('outputPayloadToHeader', jwtRule), \"]\") : undefined, jwtRule.forwardOriginalToken !== undefined ? /*#__PURE__*/React.createElement(\"div\", {\n            __self: _assertThisInitialized(_this),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 15\n            }\n          }, /*#__PURE__*/React.createElement(\"b\", {\n            __self: _assertThisInitialized(_this),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 17\n            }\n          }, \"forwardOriginalToken\"), \": [\", formatJwtField('forwardOriginalToken', jwtRule), \"]\") : undefined), /*#__PURE__*/React.createElement(React.Fragment, null)]\n        };\n      });\n    };\n\n    _this.actionResolver = function (rowData, _ref) {\n      var rowIndex = _ref.rowIndex;\n      var removeAction = {\n        title: 'Remove JWT Rule',\n        // @ts-ignore\n        onClick: function onClick(event, rowIndex, rowData, extraData) {\n          _this.props.onRemoveJwtRule(rowIndex);\n        }\n      };\n      return [removeAction];\n    };\n\n    return _this;\n  }\n\n  _createClass(JwtRuleList, [{\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Table, {\n        \"aria-label\": \"JWT Rules List\",\n        cells: headerCells,\n        rows: this.rows() // @ts-ignore\n        ,\n        actionResolver: this.actionResolver,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(TableHeader, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(TableBody, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }\n      })), this.props.jwtRules.length === 0 && /*#__PURE__*/React.createElement(\"div\", {\n        className: noJWTRulesStyle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 46\n        }\n      }, \"No JWT Rules Defined\"));\n    }\n  }]);\n\n  return JwtRuleList;\n}(React.Component);\n\nexport default JwtRuleList;","map":{"version":3,"sources":["/root/GraduateProject/src/pages/IstioConfigNew/RequestAuthorizationForm/JwtRuleList.tsx"],"names":["cellWidth","Table","TableBody","TableHeader","style","PFColors","React","formatJwtField","headerCells","title","transforms","props","noJWTRulesStyle","marginTop","color","Red100","textAlign","width","JwtRuleList","rows","jwtRules","map","jwtRule","i","key","cells","issuer","undefined","audiences","jwks","jwksUri","fromHeaders","fromParams","outputPayloadToHeader","forwardOriginalToken","actionResolver","rowData","rowIndex","removeAction","onClick","event","extraData","onRemoveJwtRule","length","Component"],"mappings":"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","sourcesContent":["import { JWTRule } from '../../../types/IstioObjects';\nimport { cellWidth, ICell, Table, TableBody, TableHeader } from '@patternfly/react-table';\nimport { style } from 'typestyle';\nimport { PFColors } from '../../../components/Pf/PfColors';\nimport * as React from 'react';\nimport { formatJwtField } from './JwtRuleBuilder';\n\ntype Props = {\n  jwtRules: JWTRule[];\n  onRemoveJwtRule: (index: number) => void;\n};\n\nconst headerCells: ICell[] = [\n  {\n    title: 'JWT Rules to be validated',\n    transforms: [cellWidth(100) as any],\n    props: {}\n  },\n  {\n    title: '',\n    props: {}\n  }\n];\n\nconst noJWTRulesStyle = style({\n  marginTop: 10,\n  color: PFColors.Red100,\n  textAlign: 'center',\n  width: '100%'\n});\n\nclass JwtRuleList extends React.Component<Props> {\n  rows = () => {\n    return this.props.jwtRules.map((jwtRule, i) => {\n      return {\n        key: 'jwtRule' + i,\n        cells: [\n          <>\n            {jwtRule.issuer ? (\n              <div>\n                <b>issuer</b>: [{formatJwtField('issuer', jwtRule)}]\n              </div>\n            ) : undefined}\n            {jwtRule.audiences ? (\n              <div>\n                <b>audiences</b>: [{formatJwtField('audiences', jwtRule)}]\n              </div>\n            ) : undefined}\n            {jwtRule.jwks ? (\n              <div>\n                <b>jwks</b>: [{formatJwtField('jwks', jwtRule)}]\n              </div>\n            ) : undefined}\n            {jwtRule.jwksUri ? (\n              <div>\n                <b>jwksUri</b>: [{formatJwtField('jwksUri', jwtRule)}]\n              </div>\n            ) : undefined}\n            {jwtRule.fromHeaders ? (\n              <div>\n                <b>fromHeaders</b>: [{formatJwtField('fromHeaders', jwtRule)}]\n              </div>\n            ) : undefined}\n            {jwtRule.fromParams ? (\n              <div>\n                <b>fromParams</b>: [{formatJwtField('fromParams', jwtRule)}]\n              </div>\n            ) : undefined}\n            {jwtRule.outputPayloadToHeader ? (\n              <div>\n                <b>outputPayloadToHeader</b>: [{formatJwtField('outputPayloadToHeader', jwtRule)}]\n              </div>\n            ) : undefined}\n            {jwtRule.forwardOriginalToken !== undefined ? (\n              <div>\n                <b>forwardOriginalToken</b>: [{formatJwtField('forwardOriginalToken', jwtRule)}]\n              </div>\n            ) : undefined}\n          </>,\n          <></>\n        ]\n      };\n    });\n  };\n\n  // @ts-ignore\n  actionResolver = (rowData, { rowIndex }) => {\n    const removeAction = {\n      title: 'Remove JWT Rule',\n      // @ts-ignore\n      onClick: (event, rowIndex, rowData, extraData) => {\n        this.props.onRemoveJwtRule(rowIndex);\n      }\n    };\n    return [removeAction];\n  };\n\n  render() {\n    return (\n      <>\n        <Table\n          aria-label=\"JWT Rules List\"\n          cells={headerCells}\n          rows={this.rows()}\n          // @ts-ignore\n          actionResolver={this.actionResolver}\n        >\n          <TableHeader />\n          <TableBody />\n        </Table>\n        {this.props.jwtRules.length === 0 && <div className={noJWTRulesStyle}>No JWT Rules Defined</div>}\n      </>\n    );\n  }\n}\n\nexport default JwtRuleList;\n"]},"metadata":{},"sourceType":"module"}