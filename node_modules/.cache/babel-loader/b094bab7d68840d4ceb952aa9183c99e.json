{"ast":null,"code":"import _objectSpread from\"/root/GraduateProject/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/root/GraduateProject/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/root/GraduateProject/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/root/GraduateProject/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/root/GraduateProject/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import*as React from'react';import{connect}from'react-redux';import NotificationList from'./NotificationList';import{style}from'typestyle';import AlertDrawerContainer from'./AlertDrawer';import{MessageCenterActions}from'actions/MessageCenterActions';var notificationStyle=style({position:'relative',zIndex:500});export var MessageCenter=/*#__PURE__*/function(_React$Component){_inherits(MessageCenter,_React$Component);var _super=_createSuper(MessageCenter);function MessageCenter(){var _this;_classCallCheck(this,MessageCenter);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.getNotificationMessages=function(groups){return groups.reduce(function(messages,group){return messages.concat(group.messages.filter(function(message){return message.show_notification;}).map(function(message){return _objectSpread(_objectSpread({},message),{},{groupId:group.id});}));},[]);};return _this;}_createClass(MessageCenter,[{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{className:notificationStyle},/*#__PURE__*/React.createElement(AlertDrawerContainer,{title:this.props.drawerTitle}),/*#__PURE__*/React.createElement(NotificationList,{messages:this.getNotificationMessages(this.props.groups),onDismiss:this.props.onDismissNotification}));}}]);return MessageCenter;}(React.Component);var mapStateToProps=function mapStateToProps(state){return{groups:state.messageCenter.groups};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{onDismissNotification:function onDismissNotification(message,userDismissed){if(userDismissed){dispatch(MessageCenterActions.markAsRead(message.id));}else{dispatch(MessageCenterActions.hideNotification(message.id));}}};};var MessageCenterContainer=connect(mapStateToProps,mapDispatchToProps)(MessageCenter);export default MessageCenterContainer;","map":null,"metadata":{},"sourceType":"module"}