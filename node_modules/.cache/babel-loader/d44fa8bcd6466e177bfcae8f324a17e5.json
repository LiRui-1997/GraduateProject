{"ast":null,"code":"import * as FreeStyle from \"free-style\";\nimport { ensureStringObj, explodeKeyframes } from './formatting';\nimport { extend, raf } from './utilities';\n/**\n * Creates an instance of free style with our options\n */\n\nvar createFreeStyle = function createFreeStyle() {\n  return FreeStyle.create(\n  /** Use the default hash function */\n  undefined,\n  /** Preserve $debugName values */\n  true);\n};\n/**\n * Maintains a single stylesheet and keeps it in sync with requested styles\n */\n\n\nvar TypeStyle =\n/** @class */\nfunction () {\n  function TypeStyle(_a) {\n    var autoGenerateTag = _a.autoGenerateTag;\n\n    var _this = this;\n    /**\n     * Insert `raw` CSS as a string. This is useful for e.g.\n     * - third party CSS that you are customizing with template strings\n     * - generating raw CSS in JavaScript\n     * - reset libraries like normalize.css that you can use without loaders\n     */\n\n\n    this.cssRaw = function (mustBeValidCSS) {\n      if (!mustBeValidCSS) {\n        return;\n      }\n\n      _this._raw += mustBeValidCSS || '';\n      _this._pendingRawChange = true;\n\n      _this._styleUpdated();\n    };\n    /**\n     * Takes CSSProperties and registers it to a global selector (body, html, etc.)\n     */\n\n\n    this.cssRule = function (selector) {\n      var objects = [];\n\n      for (var _i = 1; _i < arguments.length; _i++) {\n        objects[_i - 1] = arguments[_i];\n      }\n\n      var object = ensureStringObj(extend.apply(void 0, objects)).result;\n\n      _this._freeStyle.registerRule(selector, object);\n\n      _this._styleUpdated();\n\n      return;\n    };\n    /**\n     * Renders styles to the singleton tag imediately\n     * NOTE: You should only call it on initial render to prevent any non CSS flash.\n     * After that it is kept sync using `requestAnimationFrame` and we haven't noticed any bad flashes.\n     **/\n\n\n    this.forceRenderStyles = function () {\n      var target = _this._getTag();\n\n      if (!target) {\n        return;\n      }\n\n      target.textContent = _this.getStyles();\n    };\n    /**\n     * Utility function to register an @font-face\n     */\n\n\n    this.fontFace = function () {\n      var fontFace = [];\n\n      for (var _i = 0; _i < arguments.length; _i++) {\n        fontFace[_i] = arguments[_i];\n      }\n\n      var freeStyle = _this._freeStyle;\n\n      for (var _a = 0, _b = fontFace; _a < _b.length; _a++) {\n        var face = _b[_a];\n        freeStyle.registerRule('@font-face', face);\n      }\n\n      _this._styleUpdated();\n\n      return;\n    };\n    /**\n     * Allows use to use the stylesheet in a node.js environment\n     */\n\n\n    this.getStyles = function () {\n      return (_this._raw || '') + _this._freeStyle.getStyles();\n    };\n    /**\n     * Takes keyframes and returns a generated animationName\n     */\n\n\n    this.keyframes = function (frames) {\n      var _a = explodeKeyframes(frames),\n          keyframes = _a.keyframes,\n          $debugName = _a.$debugName; // TODO: replace $debugName with display name\n\n\n      var animationName = _this._freeStyle.registerKeyframes(keyframes, $debugName);\n\n      _this._styleUpdated();\n\n      return animationName;\n    };\n    /**\n     * Helps with testing. Reinitializes FreeStyle + raw\n     */\n\n\n    this.reinit = function () {\n      /** reinit freestyle */\n      var freeStyle = createFreeStyle();\n      _this._freeStyle = freeStyle;\n      _this._lastFreeStyleChangeId = freeStyle.changeId;\n      /** reinit raw */\n\n      _this._raw = '';\n      _this._pendingRawChange = false;\n      /** Clear any styles that were flushed */\n\n      var target = _this._getTag();\n\n      if (target) {\n        target.textContent = '';\n      }\n    };\n    /** Sets the target tag where we write the css on style updates */\n\n\n    this.setStylesTarget = function (tag) {\n      /** Clear any data in any previous tag */\n      if (_this._tag) {\n        _this._tag.textContent = '';\n      }\n\n      _this._tag = tag;\n      /** This special time buffer immediately */\n\n      _this.forceRenderStyles();\n    };\n    /**\n     * Takes an object where property names are ideal class names and property values are CSSProperties, and\n     * returns an object where property names are the same ideal class names and the property values are\n     * the actual generated class names using the ideal class name as the $debugName\n     */\n\n\n    this.stylesheet = function (classes) {\n      var classNames = Object.getOwnPropertyNames(classes);\n      var result = {};\n\n      for (var _i = 0, classNames_1 = classNames; _i < classNames_1.length; _i++) {\n        var className = classNames_1[_i];\n        var classDef = classes[className];\n\n        if (classDef) {\n          classDef.$debugName = className;\n          result[className] = _this.style(classDef);\n        }\n      }\n\n      return result;\n    };\n\n    var freeStyle = createFreeStyle();\n    this._autoGenerateTag = autoGenerateTag;\n    this._freeStyle = freeStyle;\n    this._lastFreeStyleChangeId = freeStyle.changeId;\n    this._pending = 0;\n    this._pendingRawChange = false;\n    this._raw = '';\n    this._tag = undefined; // rebind prototype to TypeStyle.  It might be better to do a function() { return this.style.apply(this, arguments)}\n\n    this.style = this.style.bind(this);\n  }\n  /**\n   * Only calls cb all sync operations settle\n   */\n\n\n  TypeStyle.prototype._afterAllSync = function (cb) {\n    var _this = this;\n\n    this._pending++;\n    var pending = this._pending;\n    raf(function () {\n      if (pending !== _this._pending) {\n        return;\n      }\n\n      cb();\n    });\n  };\n\n  TypeStyle.prototype._getTag = function () {\n    if (this._tag) {\n      return this._tag;\n    }\n\n    if (this._autoGenerateTag) {\n      var tag = typeof window === 'undefined' ? {\n        textContent: ''\n      } : document.createElement('style');\n\n      if (typeof document !== 'undefined') {\n        document.head.appendChild(tag);\n      }\n\n      this._tag = tag;\n      return tag;\n    }\n\n    return undefined;\n  };\n  /** Checks if the style tag needs updating and if so queues up the change */\n\n\n  TypeStyle.prototype._styleUpdated = function () {\n    var _this = this;\n\n    var changeId = this._freeStyle.changeId;\n    var lastChangeId = this._lastFreeStyleChangeId;\n\n    if (!this._pendingRawChange && changeId === lastChangeId) {\n      return;\n    }\n\n    this._lastFreeStyleChangeId = changeId;\n    this._pendingRawChange = false;\n\n    this._afterAllSync(function () {\n      return _this.forceRenderStyles();\n    });\n  };\n\n  TypeStyle.prototype.style = function () {\n    var freeStyle = this._freeStyle;\n\n    var _a = ensureStringObj(extend.apply(undefined, arguments)),\n        result = _a.result,\n        debugName = _a.debugName;\n\n    var className = debugName ? freeStyle.registerStyle(result, debugName) : freeStyle.registerStyle(result);\n\n    this._styleUpdated();\n\n    return className;\n  };\n\n  return TypeStyle;\n}();\n\nexport { TypeStyle };","map":{"version":3,"sources":["/root/GraduateProject/node_modules/typestyle/lib.es2015/internal/typestyle.js"],"names":["FreeStyle","ensureStringObj","explodeKeyframes","extend","raf","createFreeStyle","create","undefined","TypeStyle","_a","autoGenerateTag","_this","cssRaw","mustBeValidCSS","_raw","_pendingRawChange","_styleUpdated","cssRule","selector","objects","_i","arguments","length","object","apply","result","_freeStyle","registerRule","forceRenderStyles","target","_getTag","textContent","getStyles","fontFace","freeStyle","_b","face","keyframes","frames","$debugName","animationName","registerKeyframes","reinit","_lastFreeStyleChangeId","changeId","setStylesTarget","tag","_tag","stylesheet","classes","classNames","Object","getOwnPropertyNames","classNames_1","className","classDef","style","_autoGenerateTag","_pending","bind","prototype","_afterAllSync","cb","pending","window","document","createElement","head","appendChild","lastChangeId","debugName","registerStyle"],"mappings":"AAAA,OAAO,KAAKA,SAAZ,MAA2B,YAA3B;AACA,SAASC,eAAT,EAA0BC,gBAA1B,QAAkD,cAAlD;AACA,SAASC,MAAT,EAAiBC,GAAjB,QAA4B,aAA5B;AACA;AACA;AACA;;AACA,IAAIC,eAAe,GAAG,SAAlBA,eAAkB,GAAY;AAAE,SAAOL,SAAS,CAACM,MAAV;AAC3C;AACAC,EAAAA,SAF2C;AAG3C;AACA,MAJ2C,CAAP;AAI5B,CAJR;AAKA;AACA;AACA;;;AACA,IAAIC,SAAS;AAAG;AAAe,YAAY;AACvC,WAASA,SAAT,CAAmBC,EAAnB,EAAuB;AACnB,QAAIC,eAAe,GAAGD,EAAE,CAACC,eAAzB;;AACA,QAAIC,KAAK,GAAG,IAAZ;AACA;AACR;AACA;AACA;AACA;AACA;;;AACQ,SAAKC,MAAL,GAAc,UAAUC,cAAV,EAA0B;AACpC,UAAI,CAACA,cAAL,EAAqB;AACjB;AACH;;AACDF,MAAAA,KAAK,CAACG,IAAN,IAAcD,cAAc,IAAI,EAAhC;AACAF,MAAAA,KAAK,CAACI,iBAAN,GAA0B,IAA1B;;AACAJ,MAAAA,KAAK,CAACK,aAAN;AACH,KAPD;AAQA;AACR;AACA;;;AACQ,SAAKC,OAAL,GAAe,UAAUC,QAAV,EAAoB;AAC/B,UAAIC,OAAO,GAAG,EAAd;;AACA,WAAK,IAAIC,EAAE,GAAG,CAAd,EAAiBA,EAAE,GAAGC,SAAS,CAACC,MAAhC,EAAwCF,EAAE,EAA1C,EAA8C;AAC1CD,QAAAA,OAAO,CAACC,EAAE,GAAG,CAAN,CAAP,GAAkBC,SAAS,CAACD,EAAD,CAA3B;AACH;;AACD,UAAIG,MAAM,GAAGtB,eAAe,CAACE,MAAM,CAACqB,KAAP,CAAa,KAAK,CAAlB,EAAqBL,OAArB,CAAD,CAAf,CAA+CM,MAA5D;;AACAd,MAAAA,KAAK,CAACe,UAAN,CAAiBC,YAAjB,CAA8BT,QAA9B,EAAwCK,MAAxC;;AACAZ,MAAAA,KAAK,CAACK,aAAN;;AACA;AACH,KATD;AAUA;AACR;AACA;AACA;AACA;;;AACQ,SAAKY,iBAAL,GAAyB,YAAY;AACjC,UAAIC,MAAM,GAAGlB,KAAK,CAACmB,OAAN,EAAb;;AACA,UAAI,CAACD,MAAL,EAAa;AACT;AACH;;AACDA,MAAAA,MAAM,CAACE,WAAP,GAAqBpB,KAAK,CAACqB,SAAN,EAArB;AACH,KAND;AAOA;AACR;AACA;;;AACQ,SAAKC,QAAL,GAAgB,YAAY;AACxB,UAAIA,QAAQ,GAAG,EAAf;;AACA,WAAK,IAAIb,EAAE,GAAG,CAAd,EAAiBA,EAAE,GAAGC,SAAS,CAACC,MAAhC,EAAwCF,EAAE,EAA1C,EAA8C;AAC1Ca,QAAAA,QAAQ,CAACb,EAAD,CAAR,GAAeC,SAAS,CAACD,EAAD,CAAxB;AACH;;AACD,UAAIc,SAAS,GAAGvB,KAAK,CAACe,UAAtB;;AACA,WAAK,IAAIjB,EAAE,GAAG,CAAT,EAAY0B,EAAE,GAAGF,QAAtB,EAAgCxB,EAAE,GAAG0B,EAAE,CAACb,MAAxC,EAAgDb,EAAE,EAAlD,EAAsD;AAClD,YAAI2B,IAAI,GAAGD,EAAE,CAAC1B,EAAD,CAAb;AACAyB,QAAAA,SAAS,CAACP,YAAV,CAAuB,YAAvB,EAAqCS,IAArC;AACH;;AACDzB,MAAAA,KAAK,CAACK,aAAN;;AACA;AACH,KAZD;AAaA;AACR;AACA;;;AACQ,SAAKgB,SAAL,GAAiB,YAAY;AACzB,aAAO,CAACrB,KAAK,CAACG,IAAN,IAAc,EAAf,IAAqBH,KAAK,CAACe,UAAN,CAAiBM,SAAjB,EAA5B;AACH,KAFD;AAGA;AACR;AACA;;;AACQ,SAAKK,SAAL,GAAiB,UAAUC,MAAV,EAAkB;AAC/B,UAAI7B,EAAE,GAAGP,gBAAgB,CAACoC,MAAD,CAAzB;AAAA,UAAmCD,SAAS,GAAG5B,EAAE,CAAC4B,SAAlD;AAAA,UAA6DE,UAAU,GAAG9B,EAAE,CAAC8B,UAA7E,CAD+B,CAE/B;;;AACA,UAAIC,aAAa,GAAG7B,KAAK,CAACe,UAAN,CAAiBe,iBAAjB,CAAmCJ,SAAnC,EAA8CE,UAA9C,CAApB;;AACA5B,MAAAA,KAAK,CAACK,aAAN;;AACA,aAAOwB,aAAP;AACH,KAND;AAOA;AACR;AACA;;;AACQ,SAAKE,MAAL,GAAc,YAAY;AACtB;AACA,UAAIR,SAAS,GAAG7B,eAAe,EAA/B;AACAM,MAAAA,KAAK,CAACe,UAAN,GAAmBQ,SAAnB;AACAvB,MAAAA,KAAK,CAACgC,sBAAN,GAA+BT,SAAS,CAACU,QAAzC;AACA;;AACAjC,MAAAA,KAAK,CAACG,IAAN,GAAa,EAAb;AACAH,MAAAA,KAAK,CAACI,iBAAN,GAA0B,KAA1B;AACA;;AACA,UAAIc,MAAM,GAAGlB,KAAK,CAACmB,OAAN,EAAb;;AACA,UAAID,MAAJ,EAAY;AACRA,QAAAA,MAAM,CAACE,WAAP,GAAqB,EAArB;AACH;AACJ,KAbD;AAcA;;;AACA,SAAKc,eAAL,GAAuB,UAAUC,GAAV,EAAe;AAClC;AACA,UAAInC,KAAK,CAACoC,IAAV,EAAgB;AACZpC,QAAAA,KAAK,CAACoC,IAAN,CAAWhB,WAAX,GAAyB,EAAzB;AACH;;AACDpB,MAAAA,KAAK,CAACoC,IAAN,GAAaD,GAAb;AACA;;AACAnC,MAAAA,KAAK,CAACiB,iBAAN;AACH,KARD;AASA;AACR;AACA;AACA;AACA;;;AACQ,SAAKoB,UAAL,GAAkB,UAAUC,OAAV,EAAmB;AACjC,UAAIC,UAAU,GAAGC,MAAM,CAACC,mBAAP,CAA2BH,OAA3B,CAAjB;AACA,UAAIxB,MAAM,GAAG,EAAb;;AACA,WAAK,IAAIL,EAAE,GAAG,CAAT,EAAYiC,YAAY,GAAGH,UAAhC,EAA4C9B,EAAE,GAAGiC,YAAY,CAAC/B,MAA9D,EAAsEF,EAAE,EAAxE,EAA4E;AACxE,YAAIkC,SAAS,GAAGD,YAAY,CAACjC,EAAD,CAA5B;AACA,YAAImC,QAAQ,GAAGN,OAAO,CAACK,SAAD,CAAtB;;AACA,YAAIC,QAAJ,EAAc;AACVA,UAAAA,QAAQ,CAAChB,UAAT,GAAsBe,SAAtB;AACA7B,UAAAA,MAAM,CAAC6B,SAAD,CAAN,GAAoB3C,KAAK,CAAC6C,KAAN,CAAYD,QAAZ,CAApB;AACH;AACJ;;AACD,aAAO9B,MAAP;AACH,KAZD;;AAaA,QAAIS,SAAS,GAAG7B,eAAe,EAA/B;AACA,SAAKoD,gBAAL,GAAwB/C,eAAxB;AACA,SAAKgB,UAAL,GAAkBQ,SAAlB;AACA,SAAKS,sBAAL,GAA8BT,SAAS,CAACU,QAAxC;AACA,SAAKc,QAAL,GAAgB,CAAhB;AACA,SAAK3C,iBAAL,GAAyB,KAAzB;AACA,SAAKD,IAAL,GAAY,EAAZ;AACA,SAAKiC,IAAL,GAAYxC,SAAZ,CA9HmB,CA+HnB;;AACA,SAAKiD,KAAL,GAAa,KAAKA,KAAL,CAAWG,IAAX,CAAgB,IAAhB,CAAb;AACH;AACD;AACJ;AACA;;;AACInD,EAAAA,SAAS,CAACoD,SAAV,CAAoBC,aAApB,GAAoC,UAAUC,EAAV,EAAc;AAC9C,QAAInD,KAAK,GAAG,IAAZ;;AACA,SAAK+C,QAAL;AACA,QAAIK,OAAO,GAAG,KAAKL,QAAnB;AACAtD,IAAAA,GAAG,CAAC,YAAY;AACZ,UAAI2D,OAAO,KAAKpD,KAAK,CAAC+C,QAAtB,EAAgC;AAC5B;AACH;;AACDI,MAAAA,EAAE;AACL,KALE,CAAH;AAMH,GAVD;;AAWAtD,EAAAA,SAAS,CAACoD,SAAV,CAAoB9B,OAApB,GAA8B,YAAY;AACtC,QAAI,KAAKiB,IAAT,EAAe;AACX,aAAO,KAAKA,IAAZ;AACH;;AACD,QAAI,KAAKU,gBAAT,EAA2B;AACvB,UAAIX,GAAG,GAAG,OAAOkB,MAAP,KAAkB,WAAlB,GACJ;AAAEjC,QAAAA,WAAW,EAAE;AAAf,OADI,GAEJkC,QAAQ,CAACC,aAAT,CAAuB,OAAvB,CAFN;;AAGA,UAAI,OAAOD,QAAP,KAAoB,WAAxB,EAAqC;AACjCA,QAAAA,QAAQ,CAACE,IAAT,CAAcC,WAAd,CAA0BtB,GAA1B;AACH;;AACD,WAAKC,IAAL,GAAYD,GAAZ;AACA,aAAOA,GAAP;AACH;;AACD,WAAOvC,SAAP;AACH,GAfD;AAgBA;;;AACAC,EAAAA,SAAS,CAACoD,SAAV,CAAoB5C,aAApB,GAAoC,YAAY;AAC5C,QAAIL,KAAK,GAAG,IAAZ;;AACA,QAAIiC,QAAQ,GAAG,KAAKlB,UAAL,CAAgBkB,QAA/B;AACA,QAAIyB,YAAY,GAAG,KAAK1B,sBAAxB;;AACA,QAAI,CAAC,KAAK5B,iBAAN,IAA2B6B,QAAQ,KAAKyB,YAA5C,EAA0D;AACtD;AACH;;AACD,SAAK1B,sBAAL,GAA8BC,QAA9B;AACA,SAAK7B,iBAAL,GAAyB,KAAzB;;AACA,SAAK8C,aAAL,CAAmB,YAAY;AAAE,aAAOlD,KAAK,CAACiB,iBAAN,EAAP;AAAmC,KAApE;AACH,GAVD;;AAWApB,EAAAA,SAAS,CAACoD,SAAV,CAAoBJ,KAApB,GAA4B,YAAY;AACpC,QAAItB,SAAS,GAAG,KAAKR,UAArB;;AACA,QAAIjB,EAAE,GAAGR,eAAe,CAACE,MAAM,CAACqB,KAAP,CAAajB,SAAb,EAAwBc,SAAxB,CAAD,CAAxB;AAAA,QAA8DI,MAAM,GAAGhB,EAAE,CAACgB,MAA1E;AAAA,QAAkF6C,SAAS,GAAG7D,EAAE,CAAC6D,SAAjG;;AACA,QAAIhB,SAAS,GAAGgB,SAAS,GAAGpC,SAAS,CAACqC,aAAV,CAAwB9C,MAAxB,EAAgC6C,SAAhC,CAAH,GAAgDpC,SAAS,CAACqC,aAAV,CAAwB9C,MAAxB,CAAzE;;AACA,SAAKT,aAAL;;AACA,WAAOsC,SAAP;AACH,GAND;;AAOA,SAAO9C,SAAP;AACH,CArL8B,EAA/B;;AAsLA,SAASA,SAAT","sourcesContent":["import * as FreeStyle from \"free-style\";\nimport { ensureStringObj, explodeKeyframes } from './formatting';\nimport { extend, raf } from './utilities';\n/**\n * Creates an instance of free style with our options\n */\nvar createFreeStyle = function () { return FreeStyle.create(\n/** Use the default hash function */\nundefined, \n/** Preserve $debugName values */\ntrue); };\n/**\n * Maintains a single stylesheet and keeps it in sync with requested styles\n */\nvar TypeStyle = /** @class */ (function () {\n    function TypeStyle(_a) {\n        var autoGenerateTag = _a.autoGenerateTag;\n        var _this = this;\n        /**\n         * Insert `raw` CSS as a string. This is useful for e.g.\n         * - third party CSS that you are customizing with template strings\n         * - generating raw CSS in JavaScript\n         * - reset libraries like normalize.css that you can use without loaders\n         */\n        this.cssRaw = function (mustBeValidCSS) {\n            if (!mustBeValidCSS) {\n                return;\n            }\n            _this._raw += mustBeValidCSS || '';\n            _this._pendingRawChange = true;\n            _this._styleUpdated();\n        };\n        /**\n         * Takes CSSProperties and registers it to a global selector (body, html, etc.)\n         */\n        this.cssRule = function (selector) {\n            var objects = [];\n            for (var _i = 1; _i < arguments.length; _i++) {\n                objects[_i - 1] = arguments[_i];\n            }\n            var object = ensureStringObj(extend.apply(void 0, objects)).result;\n            _this._freeStyle.registerRule(selector, object);\n            _this._styleUpdated();\n            return;\n        };\n        /**\n         * Renders styles to the singleton tag imediately\n         * NOTE: You should only call it on initial render to prevent any non CSS flash.\n         * After that it is kept sync using `requestAnimationFrame` and we haven't noticed any bad flashes.\n         **/\n        this.forceRenderStyles = function () {\n            var target = _this._getTag();\n            if (!target) {\n                return;\n            }\n            target.textContent = _this.getStyles();\n        };\n        /**\n         * Utility function to register an @font-face\n         */\n        this.fontFace = function () {\n            var fontFace = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                fontFace[_i] = arguments[_i];\n            }\n            var freeStyle = _this._freeStyle;\n            for (var _a = 0, _b = fontFace; _a < _b.length; _a++) {\n                var face = _b[_a];\n                freeStyle.registerRule('@font-face', face);\n            }\n            _this._styleUpdated();\n            return;\n        };\n        /**\n         * Allows use to use the stylesheet in a node.js environment\n         */\n        this.getStyles = function () {\n            return (_this._raw || '') + _this._freeStyle.getStyles();\n        };\n        /**\n         * Takes keyframes and returns a generated animationName\n         */\n        this.keyframes = function (frames) {\n            var _a = explodeKeyframes(frames), keyframes = _a.keyframes, $debugName = _a.$debugName;\n            // TODO: replace $debugName with display name\n            var animationName = _this._freeStyle.registerKeyframes(keyframes, $debugName);\n            _this._styleUpdated();\n            return animationName;\n        };\n        /**\n         * Helps with testing. Reinitializes FreeStyle + raw\n         */\n        this.reinit = function () {\n            /** reinit freestyle */\n            var freeStyle = createFreeStyle();\n            _this._freeStyle = freeStyle;\n            _this._lastFreeStyleChangeId = freeStyle.changeId;\n            /** reinit raw */\n            _this._raw = '';\n            _this._pendingRawChange = false;\n            /** Clear any styles that were flushed */\n            var target = _this._getTag();\n            if (target) {\n                target.textContent = '';\n            }\n        };\n        /** Sets the target tag where we write the css on style updates */\n        this.setStylesTarget = function (tag) {\n            /** Clear any data in any previous tag */\n            if (_this._tag) {\n                _this._tag.textContent = '';\n            }\n            _this._tag = tag;\n            /** This special time buffer immediately */\n            _this.forceRenderStyles();\n        };\n        /**\n         * Takes an object where property names are ideal class names and property values are CSSProperties, and\n         * returns an object where property names are the same ideal class names and the property values are\n         * the actual generated class names using the ideal class name as the $debugName\n         */\n        this.stylesheet = function (classes) {\n            var classNames = Object.getOwnPropertyNames(classes);\n            var result = {};\n            for (var _i = 0, classNames_1 = classNames; _i < classNames_1.length; _i++) {\n                var className = classNames_1[_i];\n                var classDef = classes[className];\n                if (classDef) {\n                    classDef.$debugName = className;\n                    result[className] = _this.style(classDef);\n                }\n            }\n            return result;\n        };\n        var freeStyle = createFreeStyle();\n        this._autoGenerateTag = autoGenerateTag;\n        this._freeStyle = freeStyle;\n        this._lastFreeStyleChangeId = freeStyle.changeId;\n        this._pending = 0;\n        this._pendingRawChange = false;\n        this._raw = '';\n        this._tag = undefined;\n        // rebind prototype to TypeStyle.  It might be better to do a function() { return this.style.apply(this, arguments)}\n        this.style = this.style.bind(this);\n    }\n    /**\n     * Only calls cb all sync operations settle\n     */\n    TypeStyle.prototype._afterAllSync = function (cb) {\n        var _this = this;\n        this._pending++;\n        var pending = this._pending;\n        raf(function () {\n            if (pending !== _this._pending) {\n                return;\n            }\n            cb();\n        });\n    };\n    TypeStyle.prototype._getTag = function () {\n        if (this._tag) {\n            return this._tag;\n        }\n        if (this._autoGenerateTag) {\n            var tag = typeof window === 'undefined'\n                ? { textContent: '' }\n                : document.createElement('style');\n            if (typeof document !== 'undefined') {\n                document.head.appendChild(tag);\n            }\n            this._tag = tag;\n            return tag;\n        }\n        return undefined;\n    };\n    /** Checks if the style tag needs updating and if so queues up the change */\n    TypeStyle.prototype._styleUpdated = function () {\n        var _this = this;\n        var changeId = this._freeStyle.changeId;\n        var lastChangeId = this._lastFreeStyleChangeId;\n        if (!this._pendingRawChange && changeId === lastChangeId) {\n            return;\n        }\n        this._lastFreeStyleChangeId = changeId;\n        this._pendingRawChange = false;\n        this._afterAllSync(function () { return _this.forceRenderStyles(); });\n    };\n    TypeStyle.prototype.style = function () {\n        var freeStyle = this._freeStyle;\n        var _a = ensureStringObj(extend.apply(undefined, arguments)), result = _a.result, debugName = _a.debugName;\n        var className = debugName ? freeStyle.registerStyle(result, debugName) : freeStyle.registerStyle(result);\n        this._styleUpdated();\n        return className;\n    };\n    return TypeStyle;\n}());\nexport { TypeStyle };\n"]},"metadata":{},"sourceType":"module"}