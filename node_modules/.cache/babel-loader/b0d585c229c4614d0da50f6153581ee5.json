{"ast":null,"code":"import _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport { svgPathProperties } from 'svg-path-properties';\nimport { checkStyleName, getTransform } from 'style-utils';\nimport { getComputedStyle, getTransformValue, startConvertToEndUnit } from '../utils';\nimport { rawPathToString, arrayToRawPath } from './path-utils';\n\nvar PathMotion = /*#__PURE__*/_createClass(function PathMotion(_value, _key) {\n  var _this = this;\n\n  _classCallCheck(this, PathMotion);\n\n  this.value = void 0;\n  this.key = void 0;\n  this.path = void 0;\n  this.target = void 0;\n  this.computedStyle = void 0;\n  this.pathLength = 0;\n  this.start = {};\n  this.tweenVars = {};\n  this.startAt = {};\n  this.keys = ['x', 'y', 'rotate'];\n\n  this.getAnimStart = function () {\n    var target = _this.target,\n        value = _this.value,\n        tweenVars = _this.tweenVars;\n    var tagName = target.tagName;\n\n    if (tagName) {\n      if (!_this.computedStyle) {\n        _this.computedStyle = getComputedStyle(target);\n      }\n\n      if (tweenVars.style && tweenVars.style.transform) {\n        _this.start = tweenVars.style.transform;\n      } else {\n        var transform = getTransform(_this.computedStyle[checkStyleName('transform')]);\n        _this.start = transform;\n        tweenVars.style = tweenVars.style || {};\n        tweenVars.style.transform = tweenVars.style.transform || transform;\n      }\n\n      var _value$center = value.center,\n          center = _value$center === void 0 ? ['50%', '50%'] : _value$center;\n      _this.value.center = center.map(function (c, i) {\n        return startConvertToEndUnit({\n          target: target,\n          computedStyle: _this.computedStyle,\n          style: !i ? 'width' : 'height',\n          value: parseFloat(c),\n          startUnit: c.toString().replace(/[^a-z|%]/g, ''),\n          useCurrentTarget: true\n        });\n      });\n    } else {\n      _this.start = {};\n\n      _this.keys.forEach(function (key) {\n        if (_this.value[key]) {\n          _this.start[key] = 0;\n        }\n      });\n    }\n  };\n\n  this.getPoint = function (r, offset) {\n    var o = offset || 0;\n    var p = _this.pathLength * r + o;\n    return _this.path ? _this.path.getPointAtLength(p) : 0;\n  };\n\n  this.render = function (r) {\n    var value = _this.value,\n        target = _this.target,\n        getPoint = _this.getPoint,\n        tweenVars = _this.tweenVars;\n    var tagName = target.tagName;\n    var p = getPoint(r);\n    var p0 = getPoint(r, 0.5);\n    var p1 = getPoint(r, -0.5);\n    var rotate = value.rotate,\n        x = value.x,\n        y = value.y,\n        _value$center2 = value.center,\n        center = _value$center2 === void 0 ? [0, 0] : _value$center2;\n    var vars = tagName ? tweenVars.style || {} : tweenVars;\n\n    if (tagName) {\n      if (rotate) {\n        vars.transform.rotate = Math.atan2(p1.y - p0.y, p1.x - p0.x) * 180 / Math.PI;\n      }\n\n      if (x) {\n        vars.transform.translateX = p.x - parseFloat(center[0]);\n      }\n\n      if (y) {\n        vars.transform.translateY = p.y - parseFloat(center[1]);\n      }\n\n      vars.transform.text = getTransformValue(vars.transform);\n    } else {\n      if (rotate) {\n        vars.rotate = Math.atan2(p1.y - p0.y, p1.x - p0.x) * 180 / Math.PI;\n      }\n\n      if (x) {\n        vars.x = p.x - parseFloat(center[0]);\n      }\n\n      if (y) {\n        vars.y = p.y - parseFloat(center[1]);\n      }\n    }\n\n    return vars;\n  };\n\n  this.value = _value;\n  this.key = _key;\n\n  if (typeof _value === 'string') {\n    this.value = {\n      path: _value\n    };\n  }\n\n  this.keys.forEach(function (key) {\n    if (!(key in _this.value)) {\n      _this.value[key] = true;\n    }\n  });\n  var _this$value = this.value,\n      path = _this$value.path,\n      pathVars = _this$value.pathVars;\n\n  if (Array.isArray(path)) {\n    path = pathVars.curviness !== 0 ? rawPathToString(arrayToRawPath(path, pathVars || {})) : path.map(function (item, i) {\n      return \"\".concat(!i ? 'M' : 'L').concat(item.x, \" \").concat(item.y);\n    }).join('');\n  }\n\n  this.path = new svgPathProperties(path);\n  this.pathLength = this.path.getTotalLength();\n});\n\nPathMotion.key = 'style';\nPathMotion.className = 'PathMotion';\nexport { PathMotion as default };","map":{"version":3,"sources":["/root/GraduateProject/node_modules/tween-one/es/plugins/PathMotionPlugin.js"],"names":["_createClass","_classCallCheck","svgPathProperties","checkStyleName","getTransform","getComputedStyle","getTransformValue","startConvertToEndUnit","rawPathToString","arrayToRawPath","PathMotion","_value","_key","_this","value","key","path","target","computedStyle","pathLength","start","tweenVars","startAt","keys","getAnimStart","tagName","style","transform","_value$center","center","map","c","i","parseFloat","startUnit","toString","replace","useCurrentTarget","forEach","getPoint","r","offset","o","p","getPointAtLength","render","p0","p1","rotate","x","y","_value$center2","vars","Math","atan2","PI","translateX","translateY","text","_this$value","pathVars","Array","isArray","curviness","item","concat","join","getTotalLength","className","default"],"mappings":"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","sourcesContent":["import _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport { svgPathProperties } from 'svg-path-properties';\nimport { checkStyleName, getTransform } from 'style-utils';\nimport { getComputedStyle, getTransformValue, startConvertToEndUnit } from '../utils';\nimport { rawPathToString, arrayToRawPath } from './path-utils';\n\nvar PathMotion = /*#__PURE__*/_createClass(function PathMotion(_value, _key) {\n  var _this = this;\n\n  _classCallCheck(this, PathMotion);\n\n  this.value = void 0;\n  this.key = void 0;\n  this.path = void 0;\n  this.target = void 0;\n  this.computedStyle = void 0;\n  this.pathLength = 0;\n  this.start = {};\n  this.tweenVars = {};\n  this.startAt = {};\n  this.keys = ['x', 'y', 'rotate'];\n\n  this.getAnimStart = function () {\n    var target = _this.target,\n        value = _this.value,\n        tweenVars = _this.tweenVars;\n    var tagName = target.tagName;\n\n    if (tagName) {\n      if (!_this.computedStyle) {\n        _this.computedStyle = getComputedStyle(target);\n      }\n\n      if (tweenVars.style && tweenVars.style.transform) {\n        _this.start = tweenVars.style.transform;\n      } else {\n        var transform = getTransform(_this.computedStyle[checkStyleName('transform')]);\n        _this.start = transform;\n        tweenVars.style = tweenVars.style || {};\n        tweenVars.style.transform = tweenVars.style.transform || transform;\n      }\n\n      var _value$center = value.center,\n          center = _value$center === void 0 ? ['50%', '50%'] : _value$center;\n      _this.value.center = center.map(function (c, i) {\n        return startConvertToEndUnit({\n          target: target,\n          computedStyle: _this.computedStyle,\n          style: !i ? 'width' : 'height',\n          value: parseFloat(c),\n          startUnit: c.toString().replace(/[^a-z|%]/g, ''),\n          useCurrentTarget: true\n        });\n      });\n    } else {\n      _this.start = {};\n\n      _this.keys.forEach(function (key) {\n        if (_this.value[key]) {\n          _this.start[key] = 0;\n        }\n      });\n    }\n  };\n\n  this.getPoint = function (r, offset) {\n    var o = offset || 0;\n    var p = _this.pathLength * r + o;\n    return _this.path ? _this.path.getPointAtLength(p) : 0;\n  };\n\n  this.render = function (r) {\n    var value = _this.value,\n        target = _this.target,\n        getPoint = _this.getPoint,\n        tweenVars = _this.tweenVars;\n    var tagName = target.tagName;\n    var p = getPoint(r);\n    var p0 = getPoint(r, 0.5);\n    var p1 = getPoint(r, -0.5);\n    var rotate = value.rotate,\n        x = value.x,\n        y = value.y,\n        _value$center2 = value.center,\n        center = _value$center2 === void 0 ? [0, 0] : _value$center2;\n    var vars = tagName ? tweenVars.style || {} : tweenVars;\n\n    if (tagName) {\n      if (rotate) {\n        vars.transform.rotate = Math.atan2(p1.y - p0.y, p1.x - p0.x) * 180 / Math.PI;\n      }\n\n      if (x) {\n        vars.transform.translateX = p.x - parseFloat(center[0]);\n      }\n\n      if (y) {\n        vars.transform.translateY = p.y - parseFloat(center[1]);\n      }\n\n      vars.transform.text = getTransformValue(vars.transform);\n    } else {\n      if (rotate) {\n        vars.rotate = Math.atan2(p1.y - p0.y, p1.x - p0.x) * 180 / Math.PI;\n      }\n\n      if (x) {\n        vars.x = p.x - parseFloat(center[0]);\n      }\n\n      if (y) {\n        vars.y = p.y - parseFloat(center[1]);\n      }\n    }\n\n    return vars;\n  };\n\n  this.value = _value;\n  this.key = _key;\n\n  if (typeof _value === 'string') {\n    this.value = {\n      path: _value\n    };\n  }\n\n  this.keys.forEach(function (key) {\n    if (!(key in _this.value)) {\n      _this.value[key] = true;\n    }\n  });\n  var _this$value = this.value,\n      path = _this$value.path,\n      pathVars = _this$value.pathVars;\n\n  if (Array.isArray(path)) {\n    path = pathVars.curviness !== 0 ? rawPathToString(arrayToRawPath(path, pathVars || {})) : path.map(function (item, i) {\n      return \"\".concat(!i ? 'M' : 'L').concat(item.x, \" \").concat(item.y);\n    }).join('');\n  }\n\n  this.path = new svgPathProperties(path);\n  this.pathLength = this.path.getTotalLength();\n});\n\nPathMotion.key = 'style';\nPathMotion.className = 'PathMotion';\nexport { PathMotion as default };"]},"metadata":{},"sourceType":"module"}