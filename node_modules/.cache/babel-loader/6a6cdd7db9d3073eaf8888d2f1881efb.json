{"ast":null,"code":"import _classCallCheck from \"/root/GraduateProject/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/root/GraduateProject/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/root/GraduateProject/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/root/GraduateProject/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/root/GraduateProject/src/components/Details/DetailObject.tsx\";\nimport * as React from 'react';\nimport Label from '../Label/Label';\nimport './DetailObject.css';\nimport Validation from '../Validations/Validation';\n\nvar DetailObject = /*#__PURE__*/function (_React$Component) {\n  _inherits(DetailObject, _React$Component);\n\n  var _super = _createSuper(DetailObject);\n\n  function DetailObject() {\n    _classCallCheck(this, DetailObject);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(DetailObject, [{\n    key: \"generateKey\",\n    value: // Pseudo unique ID generator used for keys\n    // The recursive nature of buildList() requires uniques list keys.\n    // Modified from https://gist.github.com/gordonbrander/2230317\n    function generateKey() {\n      return 'key_' + Math.random().toString(36).substr(2, 9);\n    }\n  }, {\n    key: \"label\",\n    value: function label(key, value) {\n      return /*#__PURE__*/React.createElement(Label, {\n        name: key,\n        value: value,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 23,\n          columnNumber: 12\n        }\n      });\n    }\n  }, {\n    key: \"checkLabel\",\n    value: function checkLabel(name) {\n      if (!this.props.labels) {\n        return false;\n      }\n\n      return this.props.labels.indexOf(name) > -1;\n    }\n  }, {\n    key: \"canDisplay\",\n    value: function canDisplay(name) {\n      return this.props.exclude == null || !this.props.exclude.includes(name);\n    } // buildList returns a recursive list of all items within value. It shows a validation\n    // only for the first iteration (when depth is 0)\n\n  }, {\n    key: \"buildList\",\n    value: function buildList(name, value, isLabel, depth) {\n      var _this = this;\n\n      if (!this.canDisplay(name)) {\n        return '';\n      }\n\n      var valueType = typeof value;\n\n      if (valueType === 'string' || valueType === 'number' || valueType === 'boolean') {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"label-collection\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 9\n          }\n        }, isLabel ? this.label(name, value) : /*#__PURE__*/React.createElement(\"span\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(\"span\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 15\n          }\n        }, name ? \"[\".concat(name, \"]\") : name), \" \", value.toString()));\n      }\n\n      var childrenList = [];\n      var listKey = this.generateKey();\n      var checkLabel = this.checkLabel(name);\n\n      if (Array.isArray(value)) {\n        value.forEach(function (v, i) {\n          var vType = typeof v;\n\n          if (vType === 'string' || vType === 'number' || vType === 'boolean') {\n            childrenList.push( /*#__PURE__*/React.createElement(\"li\", {\n              key: listKey + '_i' + i,\n              __self: _this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 29\n              }\n            }, v));\n          } else {\n            Object.keys(v).forEach(function (key, j) {\n              var childList = _this.buildList(key, v[key], checkLabel, depth + 1);\n\n              childrenList.push( /*#__PURE__*/React.createElement(\"li\", {\n                key: listKey + '_i' + i + '_j' + j,\n                __self: _this,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 70,\n                  columnNumber: 31\n                }\n              }, childList));\n            });\n          }\n        });\n      } else {\n        Object.keys(value || {}).forEach(function (key, k) {\n          var childList = _this.buildList(key, value[key], checkLabel, depth + 1);\n\n          childrenList.push( /*#__PURE__*/React.createElement(\"li\", {\n            key: listKey + '_k' + k,\n            __self: _this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 27\n            }\n          }, childList));\n        });\n      }\n\n      return childrenList.length > 0 ? /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 9\n        }\n      }, name), depth === 0 && !!this.props.validation && this.props.validation.message ? /*#__PURE__*/React.createElement(Validation, {\n        severity: this.props.validation.severity,\n        message: this.props.validation.message,\n        messageColor: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }\n      }) : undefined, /*#__PURE__*/React.createElement(\"ul\", {\n        className: 'details',\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 9\n        }\n      }, childrenList)) : '';\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var findLabels = this.props.labels !== undefined && this.props.labels.length > 0;\n      var objectList = this.buildList(this.props.name, this.props.detail, findLabels, 0);\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 12\n        }\n      }, objectList);\n    }\n  }]);\n\n  return DetailObject;\n}(React.Component);\n\nexport default DetailObject;","map":{"version":3,"sources":["/root/GraduateProject/src/components/Details/DetailObject.tsx"],"names":["React","Label","Validation","DetailObject","Math","random","toString","substr","key","value","name","props","labels","indexOf","exclude","includes","isLabel","depth","canDisplay","valueType","label","childrenList","listKey","generateKey","checkLabel","Array","isArray","forEach","v","i","vType","push","Object","keys","j","childList","buildList","k","length","validation","message","severity","undefined","findLabels","objectList","detail","Component"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport Label from '../Label/Label';\nimport './DetailObject.css';\nimport Validation, { ValidationDescription } from '../Validations/Validation';\n\ninterface DetailObjectProps {\n  name: string;\n  detail: any;\n  labels?: string[];\n  exclude?: string[];\n  validation?: ValidationDescription;\n}\n\nclass DetailObject extends React.Component<DetailObjectProps> {\n  // Pseudo unique ID generator used for keys\n  // The recursive nature of buildList() requires uniques list keys.\n  // Modified from https://gist.github.com/gordonbrander/2230317\n  generateKey() {\n    return 'key_' + Math.random().toString(36).substr(2, 9);\n  }\n\n  label(key: string, value: string) {\n    return <Label name={key} value={value} />;\n  }\n\n  checkLabel(name: string) {\n    if (!this.props.labels) {\n      return false;\n    }\n    return this.props.labels.indexOf(name) > -1;\n  }\n\n  canDisplay(name: string) {\n    return this.props.exclude == null || !this.props.exclude.includes(name);\n  }\n\n  // buildList returns a recursive list of all items within value. It shows a validation\n  // only for the first iteration (when depth is 0)\n  buildList(name: string, value: any, isLabel: boolean, depth: number): any {\n    if (!this.canDisplay(name)) {\n      return '';\n    }\n\n    const valueType = typeof value;\n    if (valueType === 'string' || valueType === 'number' || valueType === 'boolean') {\n      return (\n        <div className=\"label-collection\">\n          {isLabel ? (\n            this.label(name, value)\n          ) : (\n            <span>\n              <span>{name ? `[${name}]` : name}</span> {value.toString()}\n            </span>\n          )}\n        </div>\n      );\n    }\n\n    const childrenList: any[] = [];\n    const listKey = this.generateKey();\n    const checkLabel = this.checkLabel(name);\n    if (Array.isArray(value)) {\n      value.forEach((v, i) => {\n        const vType = typeof v;\n        if (vType === 'string' || vType === 'number' || vType === 'boolean') {\n          childrenList.push(<li key={listKey + '_i' + i}>{v}</li>);\n        } else {\n          Object.keys(v).forEach((key, j) => {\n            const childList = this.buildList(key, v[key], checkLabel, depth + 1);\n            childrenList.push(<li key={listKey + '_i' + i + '_j' + j}>{childList}</li>);\n          });\n        }\n      });\n    } else {\n      Object.keys(value || {}).forEach((key, k) => {\n        const childList = this.buildList(key, value[key], checkLabel, depth + 1);\n        childrenList.push(<li key={listKey + '_k' + k}>{childList}</li>);\n      });\n    }\n\n    return childrenList.length > 0 ? (\n      <div>\n        <strong>{name}</strong>\n        {depth === 0 && !!this.props.validation && this.props.validation.message ? (\n          <Validation\n            severity={this.props.validation.severity}\n            message={this.props.validation.message}\n            messageColor={true}\n          />\n        ) : undefined}\n        <ul className={'details'}>{childrenList}</ul>\n      </div>\n    ) : (\n      ''\n    );\n  }\n\n  render() {\n    const findLabels = this.props.labels !== undefined && this.props.labels.length > 0;\n\n    const objectList = this.buildList(this.props.name, this.props.detail, findLabels, 0);\n    return <div>{objectList}</div>;\n  }\n}\n\nexport default DetailObject;\n"]},"metadata":{},"sourceType":"module"}