{"ast":null,"code":"import _classCallCheck from \"/root/kiali-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/root/kiali-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/root/kiali-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/root/kiali-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nimport _pt from \"prop-types\";\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nimport * as React from 'react';\nimport { isOUIAEnvironment, getUniqueId, generateOUIAId } from './ouia';\nexport var OuiaContext = React.createContext(null);\n/**\n * @param { React.ComponentClass | React.FunctionComponent } WrappedComponent - React component\n */\n\nexport function withOuiaContext(WrappedComponent) {\n  /* eslint-disable react/display-name */\n  return function (props) {\n    return React.createElement(OuiaContext.Consumer, null, function (value) {\n      return React.createElement(ComponentWithOuia, {\n        consumerContext: value,\n        component: WrappedComponent,\n        componentProps: props\n      });\n    });\n  };\n  /* eslint-enable react/display-name */\n}\n\nvar ComponentWithOuia = /*#__PURE__*/function (_React$Component) {\n  _inherits(ComponentWithOuia, _React$Component);\n\n  var _super = _createSuper(ComponentWithOuia);\n\n  function ComponentWithOuia(props) {\n    var _this;\n\n    _classCallCheck(this, ComponentWithOuia);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      isOuia: false,\n      ouiaId: null\n    };\n    return _this;\n  }\n  /**\n   * if either consumer set isOuia through context or local storage\n   * then force a re-render\n   */\n\n\n  _createClass(ComponentWithOuia, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this$state = this.state,\n          isOuia = _this$state.isOuia,\n          ouiaId = _this$state.ouiaId;\n      var consumerContext = this.props.consumerContext;\n      var isOuiaEnv = isOUIAEnvironment();\n\n      if (consumerContext && consumerContext.isOuia !== undefined && consumerContext.isOuia !== isOuia || isOuiaEnv !== isOuia) {\n        this.setState({\n          isOuia: consumerContext && consumerContext.isOuia !== undefined ? consumerContext.isOuia : isOuiaEnv,\n          ouiaId: consumerContext && consumerContext.ouiaId !== undefined ? consumerContext.ouiaId : generateOUIAId() ? getUniqueId() : ouiaId\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state2 = this.state,\n          isOuia = _this$state2.isOuia,\n          ouiaId = _this$state2.ouiaId;\n      var _this$props = this.props,\n          WrappedComponent = _this$props.component,\n          componentProps = _this$props.componentProps,\n          consumerContext = _this$props.consumerContext;\n      return React.createElement(OuiaContext.Provider, {\n        value: {\n          isOuia: consumerContext && consumerContext.isOuia || isOuia,\n          ouiaId: consumerContext && consumerContext.ouiaId || ouiaId\n        }\n      }, React.createElement(OuiaContext.Consumer, null, function (value) {\n        return React.createElement(WrappedComponent, _extends({}, componentProps, {\n          ouiaContext: value\n        }));\n      }));\n    }\n  }]);\n\n  return ComponentWithOuia;\n}(React.Component);\n\n_defineProperty(ComponentWithOuia, \"propTypes\", {\n  component: _pt.any.isRequired,\n  componentProps: _pt.any.isRequired,\n  consumerContext: _pt.shape({\n    isOuia: _pt.bool,\n    ouiaId: _pt.oneOfType([_pt.number, _pt.string])\n  })\n});","map":{"version":3,"sources":["/root/kiali-ui/node_modules/@patternfly/react-core/dist/esm/components/withOuia/withOuia.js"],"names":["_pt","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_defineProperty","obj","value","defineProperty","enumerable","configurable","writable","React","isOUIAEnvironment","getUniqueId","generateOUIAId","OuiaContext","createContext","withOuiaContext","WrappedComponent","props","createElement","Consumer","ComponentWithOuia","consumerContext","component","componentProps","state","isOuia","ouiaId","isOuiaEnv","undefined","setState","Provider","ouiaContext","Component","any","isRequired","shape","bool","oneOfType","number","string"],"mappings":"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","sourcesContent":["import _pt from \"prop-types\";\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport * as React from 'react';\nimport { isOUIAEnvironment, getUniqueId, generateOUIAId } from './ouia';\nexport const OuiaContext = React.createContext(null);\n\n/**\n * @param { React.ComponentClass | React.FunctionComponent } WrappedComponent - React component\n */\nexport function withOuiaContext(WrappedComponent) {\n  /* eslint-disable react/display-name */\n  return props => React.createElement(OuiaContext.Consumer, null, value => React.createElement(ComponentWithOuia, {\n    consumerContext: value,\n    component: WrappedComponent,\n    componentProps: props\n  }));\n  /* eslint-enable react/display-name */\n}\n\nclass ComponentWithOuia extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOuia: false,\n      ouiaId: null\n    };\n  }\n  /**\n   * if either consumer set isOuia through context or local storage\n   * then force a re-render\n   */\n\n\n  componentDidMount() {\n    const {\n      isOuia,\n      ouiaId\n    } = this.state;\n    const {\n      consumerContext\n    } = this.props;\n    const isOuiaEnv = isOUIAEnvironment();\n\n    if (consumerContext && consumerContext.isOuia !== undefined && consumerContext.isOuia !== isOuia || isOuiaEnv !== isOuia) {\n      this.setState({\n        isOuia: consumerContext && consumerContext.isOuia !== undefined ? consumerContext.isOuia : isOuiaEnv,\n        ouiaId: consumerContext && consumerContext.ouiaId !== undefined ? consumerContext.ouiaId : generateOUIAId() ? getUniqueId() : ouiaId\n      });\n    }\n  }\n\n  render() {\n    const {\n      isOuia,\n      ouiaId\n    } = this.state;\n    const {\n      component: WrappedComponent,\n      componentProps,\n      consumerContext\n    } = this.props;\n    return React.createElement(OuiaContext.Provider, {\n      value: {\n        isOuia: consumerContext && consumerContext.isOuia || isOuia,\n        ouiaId: consumerContext && consumerContext.ouiaId || ouiaId\n      }\n    }, React.createElement(OuiaContext.Consumer, null, value => React.createElement(WrappedComponent, _extends({}, componentProps, {\n      ouiaContext: value\n    }))));\n  }\n\n}\n\n_defineProperty(ComponentWithOuia, \"propTypes\", {\n  component: _pt.any.isRequired,\n  componentProps: _pt.any.isRequired,\n  consumerContext: _pt.shape({\n    isOuia: _pt.bool,\n    ouiaId: _pt.oneOfType([_pt.number, _pt.string])\n  })\n});\n//# sourceMappingURL=withOuia.js.map"]},"metadata":{},"sourceType":"module"}