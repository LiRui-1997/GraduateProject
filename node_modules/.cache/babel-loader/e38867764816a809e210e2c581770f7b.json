{"ast":null,"code":"import _classCallCheck from \"/root/kiali-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/root/kiali-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/root/kiali-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/root/kiali-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/root/kiali-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/root/kiali-ui/src/components/SessionTimeout/SessionTimeout.tsx\";\nimport * as React from 'react';\nimport { Modal, Button } from '@patternfly/react-core';\nimport { WarningTriangleIcon } from '@patternfly/react-icons';\nimport authenticationConfig from '../../config/AuthenticationConfig';\nimport { PFColors } from 'components/Pf/PfColors';\nexport var SessionTimeout = /*#__PURE__*/function (_React$Component) {\n  _inherits(SessionTimeout, _React$Component);\n\n  var _super = _createSuper(SessionTimeout);\n\n  function SessionTimeout() {\n    var _this;\n\n    _classCallCheck(this, SessionTimeout);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _this.textForAuthStrategy = function (_strategy) {\n      var line1 = _this.props.timeOutCountDown <= 0 ? 'Your session has expired.' : \"Your session will expire in \".concat(_this.props.timeOutCountDown.toFixed(), \" seconds.\");\n      var line2 = 'You will need to re-login. Please save your changes, if any.';\n      return /*#__PURE__*/React.createElement(React.Fragment, null, line1, /*#__PURE__*/React.createElement(\"br\", {\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 9\n        }\n      }), line2);\n    };\n\n    return _this;\n  }\n\n  _createClass(SessionTimeout, [{\n    key: \"render\",\n    value: function render() {\n      var defaultAction = this.props.onDismiss;\n      var buttons = [/*#__PURE__*/React.createElement(Button, {\n        key: \"confirm\",\n        variant: \"link\",\n        onClick: this.props.onLogout,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 21,\n          columnNumber: 7\n        }\n      }, \"Log Out\"), /*#__PURE__*/React.createElement(Button, {\n        autoFocus: true,\n        variant: \"primary\",\n        onClick: this.props.onDismiss,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 24,\n          columnNumber: 7\n        }\n      }, \"OK\")];\n      return /*#__PURE__*/React.createElement(Modal, {\n        isOpen: this.props.show,\n        onClose: defaultAction,\n        actions: buttons,\n        title: 'Session Timeout',\n        width: '40%',\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(WarningTriangleIcon, {\n        size: 'xl',\n        color: PFColors.Warning,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 11\n        }\n      })), /*#__PURE__*/React.createElement(\"span\", {\n        style: {\n          float: 'right',\n          width: '80%'\n        },\n        className: 'lead',\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 9\n        }\n      }, this.textForAuthStrategy(authenticationConfig.strategy)));\n    }\n  }]);\n\n  return SessionTimeout;\n}(React.Component);","map":{"version":3,"sources":["/root/kiali-ui/src/components/SessionTimeout/SessionTimeout.tsx"],"names":["React","Modal","Button","WarningTriangleIcon","authenticationConfig","PFColors","SessionTimeout","textForAuthStrategy","_strategy","line1","props","timeOutCountDown","toFixed","line2","defaultAction","onDismiss","buttons","onLogout","show","Warning","float","width","strategy","Component"],"mappings":";;;;;;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAASC,KAAT,EAAgBC,MAAhB,QAA8B,wBAA9B;AACA,SAASC,mBAAT,QAAoC,yBAApC;AAGA,OAAOC,oBAAP,MAAiC,mCAAjC;AACA,SAASC,QAAT,QAAyB,wBAAzB;AAUA,WAAaC,cAAb;AAAA;;AAAA;;AAAA;AAAA;;AAAA;;AAAA;AAAA;AAAA;;AAAA;;AAAA,UAuBUC,mBAvBV,GAuBgC,UAACC,SAAD,EAA6B;AACzD,UAAMC,KAAK,GACT,MAAKC,KAAL,CAAWC,gBAAX,IAA+B,CAA/B,GACI,2BADJ,yCAEmC,MAAKD,KAAL,CAAWC,gBAAX,CAA4BC,OAA5B,EAFnC,cADF;AAKA,UAAMC,KAAK,GAAG,8DAAd;AAEA,0BACE,0CACGJ,KADH,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,EAGGI,KAHH,CADF;AAOD,KAtCH;;AAAA;AAAA;;AAAA;AAAA;AAAA,WACE,kBAAS;AACP,UAAMC,aAAa,GAAG,KAAKJ,KAAL,CAAWK,SAAjC;AACA,UAAMC,OAAO,GAAG,cACd,oBAAC,MAAD;AAAQ,QAAA,GAAG,EAAC,SAAZ;AAAsB,QAAA,OAAO,EAAC,MAA9B;AAAqC,QAAA,OAAO,EAAE,KAAKN,KAAL,CAAWO,QAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADc,eAId,oBAAC,MAAD;AAAQ,QAAA,SAAS,EAAE,IAAnB;AAAyB,QAAA,OAAO,EAAC,SAAjC;AAA2C,QAAA,OAAO,EAAE,KAAKP,KAAL,CAAWK,SAA/D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAJc,CAAhB;AAQA,0BACE,oBAAC,KAAD;AAAO,QAAA,MAAM,EAAE,KAAKL,KAAL,CAAWQ,IAA1B;AAAgC,QAAA,OAAO,EAAEJ,aAAzC;AAAwD,QAAA,OAAO,EAAEE,OAAjE;AAA0E,QAAA,KAAK,EAAE,iBAAjF;AAAoG,QAAA,KAAK,EAAE,KAA3G;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,mBAAD;AAAqB,QAAA,IAAI,EAAE,IAA3B;AAAiC,QAAA,KAAK,EAAEX,QAAQ,CAACc,OAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF,eAIE;AAAM,QAAA,KAAK,EAAE;AAAEC,UAAAA,KAAK,EAAE,OAAT;AAAkBC,UAAAA,KAAK,EAAE;AAAzB,SAAb;AAA+C,QAAA,SAAS,EAAE,MAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,KAAKd,mBAAL,CAAyBH,oBAAoB,CAACkB,QAA9C,CADH,CAJF,CADF;AAUD;AArBH;;AAAA;AAAA,EAAoCtB,KAAK,CAACuB,SAA1C","sourcesContent":["import * as React from 'react';\nimport { Modal, Button } from '@patternfly/react-core';\nimport { WarningTriangleIcon } from '@patternfly/react-icons';\nimport { AuthStrategy } from '../../types/Auth';\nimport { LoginSession } from '../../store/Store';\nimport authenticationConfig from '../../config/AuthenticationConfig';\nimport { PFColors } from 'components/Pf/PfColors';\n\ntype SessionTimeoutProps = {\n  onLogout: () => void;\n  onExtendSession: (session: LoginSession) => void;\n  onDismiss: () => void;\n  show: boolean;\n  timeOutCountDown: number;\n};\n\nexport class SessionTimeout extends React.Component<SessionTimeoutProps, {}> {\n  render() {\n    const defaultAction = this.props.onDismiss;\n    const buttons = [\n      <Button key=\"confirm\" variant=\"link\" onClick={this.props.onLogout}>\n        Log Out\n      </Button>,\n      <Button autoFocus={true} variant=\"primary\" onClick={this.props.onDismiss}>\n        OK\n      </Button>\n    ];\n    return (\n      <Modal isOpen={this.props.show} onClose={defaultAction} actions={buttons} title={'Session Timeout'} width={'40%'}>\n        <span>\n          <WarningTriangleIcon size={'xl'} color={PFColors.Warning} />\n        </span>\n        <span style={{ float: 'right', width: '80%' }} className={'lead'}>\n          {this.textForAuthStrategy(authenticationConfig.strategy)}\n        </span>\n      </Modal>\n    );\n  }\n\n  private textForAuthStrategy = (_strategy: AuthStrategy) => {\n    const line1 =\n      this.props.timeOutCountDown <= 0\n        ? 'Your session has expired.'\n        : `Your session will expire in ${this.props.timeOutCountDown.toFixed()} seconds.`;\n\n    const line2 = 'You will need to re-login. Please save your changes, if any.';\n\n    return (\n      <>\n        {line1}\n        <br />\n        {line2}\n      </>\n    );\n  };\n}\n"]},"metadata":{},"sourceType":"module"}