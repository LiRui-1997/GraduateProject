{"ast":null,"code":"import _classCallCheck from \"/root/kiali-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/root/kiali-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/root/kiali-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/root/kiali-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/root/kiali-ui/src/components/Label/Labels.tsx\";\nimport * as React from 'react';\nimport Label from './Label';\nimport { Button, Tooltip, TooltipPosition } from '@patternfly/react-core';\nimport { style } from 'typestyle';\nimport { KialiIcon } from '../../config/KialiIcon';\nvar SHOW_MORE_TRESHOLD = 2;\nvar linkStyle = style({\n  float: 'left',\n  paddingLeft: '0px',\n  marginLeft: '2px',\n  fontSize: '0.8rem'\n});\nvar infoStyle = style({\n  margin: '0px 4px 2px 10px',\n  verticalAlign: '-9px !important'\n});\nvar labelsContainerStyle = style({\n  overflow: 'hidden'\n});\n\nvar Labels = /*#__PURE__*/function (_React$Component) {\n  _inherits(Labels, _React$Component);\n\n  var _super = _createSuper(Labels);\n\n  function Labels(props, state) {\n    var _this;\n\n    _classCallCheck(this, Labels);\n\n    _this = _super.call(this, props, state);\n\n    _this.expandLabels = function () {\n      _this.setState({\n        expanded: true\n      });\n    };\n\n    _this.state = {\n      expanded: props.expanded ? props.expanded : false\n    };\n    return _this;\n  }\n\n  _createClass(Labels, [{\n    key: \"labelKeys\",\n    value: function labelKeys() {\n      return Object.keys(this.props.labels || {});\n    }\n  }, {\n    key: \"hasLabels\",\n    value: function hasLabels() {\n      return this.labelKeys().length > 0;\n    }\n  }, {\n    key: \"hasManyLabels\",\n    value: function hasManyLabels() {\n      return this.labelKeys().length > SHOW_MORE_TRESHOLD;\n    }\n  }, {\n    key: \"showItem\",\n    value: function showItem(i) {\n      return this.state.expanded || !this.hasManyLabels() || i < SHOW_MORE_TRESHOLD;\n    }\n  }, {\n    key: \"renderMoreLabelsLink\",\n    value: function renderMoreLabelsLink() {\n      if (this.hasManyLabels() && !this.state.expanded) {\n        return /*#__PURE__*/React.createElement(Button, {\n          key: \"label_more\",\n          variant: \"link\",\n          className: linkStyle,\n          onClick: this.expandLabels,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 9\n          }\n        }, \"More labels...\");\n      }\n\n      return null;\n    }\n  }, {\n    key: \"renderLabels\",\n    value: function renderLabels() {\n      var _this2 = this;\n\n      return this.labelKeys().map(function (key, i) {\n        return _this2.showItem(i) ? /*#__PURE__*/React.createElement(\"div\", {\n          key: 'label_' + i,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 9\n          }\n        }, /*#__PURE__*/React.createElement(Label, {\n          key: 'label_' + i,\n          name: key,\n          value: _this2.props.labels ? _this2.props.labels[key] : '',\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 11\n          }\n        })) : undefined;\n      });\n    }\n  }, {\n    key: \"renderEmptyLabels\",\n    value: function renderEmptyLabels() {\n      return /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 12\n        }\n      }, \" No labels \");\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var tooltip = this.props.tooltipMessage ? /*#__PURE__*/React.createElement(Tooltip, {\n        key: \"tooltip_missing_sidecar\",\n        position: TooltipPosition.auto,\n        content: /*#__PURE__*/React.createElement(\"div\", {\n          style: {\n            textAlign: 'left'\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 18\n          }\n        }, this.props.tooltipMessage),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(KialiIcon.Info, {\n        className: infoStyle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 9\n        }\n      })) : undefined;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: labelsContainerStyle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 7\n        }\n      }, this.hasLabels() ? [this.renderLabels(), this.renderMoreLabelsLink()] : this.renderEmptyLabels(), tooltip);\n    }\n  }]);\n\n  return Labels;\n}(React.Component);\n\nexport default Labels;","map":{"version":3,"sources":["/root/kiali-ui/src/components/Label/Labels.tsx"],"names":["React","Label","Button","Tooltip","TooltipPosition","style","KialiIcon","SHOW_MORE_TRESHOLD","linkStyle","float","paddingLeft","marginLeft","fontSize","infoStyle","margin","verticalAlign","labelsContainerStyle","overflow","Labels","props","state","expandLabels","setState","expanded","Object","keys","labels","labelKeys","length","i","hasManyLabels","map","key","showItem","undefined","tooltip","tooltipMessage","auto","textAlign","hasLabels","renderLabels","renderMoreLabelsLink","renderEmptyLabels","Component"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport Label from './Label';\nimport { Button, Tooltip, TooltipPosition } from '@patternfly/react-core';\nimport { style } from 'typestyle';\nimport { KialiIcon } from '../../config/KialiIcon';\n\nconst SHOW_MORE_TRESHOLD = 2;\n\ninterface Props {\n  labels?: { [key: string]: string };\n  tooltipMessage?: string;\n  expanded?: boolean;\n}\n\ninterface State {\n  expanded: boolean;\n}\n\nconst linkStyle = style({\n  float: 'left',\n  paddingLeft: '0px',\n  marginLeft: '2px',\n  fontSize: '0.8rem'\n});\n\nconst infoStyle = style({\n  margin: '0px 4px 2px 10px',\n  verticalAlign: '-9px !important'\n});\n\nconst labelsContainerStyle = style({\n  overflow: 'hidden'\n});\n\nclass Labels extends React.Component<Props, State> {\n  constructor(props: Props, state: State) {\n    super(props, state);\n    this.state = {\n      expanded: props.expanded ? props.expanded : false\n    };\n  }\n\n  labelKeys() {\n    return Object.keys(this.props.labels || {});\n  }\n\n  hasLabels() {\n    return this.labelKeys().length > 0;\n  }\n\n  hasManyLabels() {\n    return this.labelKeys().length > SHOW_MORE_TRESHOLD;\n  }\n\n  showItem(i: number) {\n    return this.state.expanded || !this.hasManyLabels() || i < SHOW_MORE_TRESHOLD;\n  }\n\n  expandLabels = () => {\n    this.setState({ expanded: true });\n  };\n\n  renderMoreLabelsLink() {\n    if (this.hasManyLabels() && !this.state.expanded) {\n      return (\n        <Button key=\"label_more\" variant=\"link\" className={linkStyle} onClick={this.expandLabels}>\n          More labels...\n        </Button>\n      );\n    }\n\n    return null;\n  }\n\n  renderLabels() {\n    return this.labelKeys().map((key, i) => {\n      return this.showItem(i) ? (\n        <div key={'label_' + i}>\n          <Label key={'label_' + i} name={key} value={this.props.labels ? this.props.labels[key] : ''} />\n        </div>\n      ) : undefined;\n    });\n  }\n\n  renderEmptyLabels() {\n    return <span> No labels </span>;\n  }\n\n  render() {\n    const tooltip = this.props.tooltipMessage ? (\n      <Tooltip\n        key={`tooltip_missing_sidecar`}\n        position={TooltipPosition.auto}\n        content={<div style={{ textAlign: 'left' }}>{this.props.tooltipMessage}</div>}\n      >\n        <KialiIcon.Info className={infoStyle} />\n      </Tooltip>\n    ) : undefined;\n    return (\n      <div className={labelsContainerStyle}>\n        {this.hasLabels() ? [this.renderLabels(), this.renderMoreLabelsLink()] : this.renderEmptyLabels()}\n        {tooltip}\n      </div>\n    );\n  }\n}\n\nexport default Labels;\n"]},"metadata":{},"sourceType":"module"}