{"ast":null,"code":"import _classCallCheck from \"/root/kiali-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/root/kiali-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/root/kiali-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/root/kiali-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/root/kiali-ui/src/pages/Graph/GraphToolbar/GraphSecondaryMasthead.tsx\";\nimport React from 'react';\nimport SecondaryMasthead from 'components/Nav/SecondaryMasthead';\nimport NamespaceDropdownContainer from 'components/NamespaceDropdown';\nimport { style } from 'typestyle';\nimport TourStopContainer from 'components/Tour/TourStop';\nimport { GraphTourStops } from '../GraphHelpTour';\nimport ToolbarDropdown from 'components/ToolbarDropdown/ToolbarDropdown';\nimport { GraphType } from 'types/Graph';\nimport * as _ from 'lodash';\nimport TimeDurationContainer from '../../../components/Time/TimeDurationComponent';\nimport GraphTrafficContainer from './GraphTraffic';\nvar mastheadStyle = style({\n  marginLeft: '-20px',\n  marginRight: '-40px'\n});\nvar leftSpacerStyle = style({\n  marginLeft: '10px'\n});\nvar vrStyle = style({\n  border: '1px inset',\n  height: '20px',\n  margin: '4px 0 0 10px',\n  width: '1px'\n});\nvar rightToolbarStyle = style({\n  float: 'right'\n});\n/**\n *  Key-value pair object representation of GraphType enum.  Values are human-readable versions of enum keys.\n *\n *  Example:  GraphType => {'APP': 'App', 'VERSIONED_APP': 'VersionedApp'}\n */\n\nvar GRAPH_TYPES = _.mapValues(GraphType, function (val) {\n  return \"\".concat(_.capitalize(_.startCase(val)), \" graph\");\n});\n\nvar GraphSecondaryMasthead = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(GraphSecondaryMasthead, _React$PureComponent);\n\n  var _super = _createSuper(GraphSecondaryMasthead);\n\n  function GraphSecondaryMasthead() {\n    var _this;\n\n    _classCallCheck(this, GraphSecondaryMasthead);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _this.setGraphType = function (type) {\n      var graphType = GraphType[type];\n\n      if (_this.props.graphType !== graphType) {\n        _this.props.onGraphTypeChange(graphType);\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(GraphSecondaryMasthead, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var graphTypeKey = _.findKey(GraphType, function (val) {\n        return val === _this2.props.graphType;\n      });\n\n      return /*#__PURE__*/React.createElement(SecondaryMasthead, {\n        title: false,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: mastheadStyle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(NamespaceDropdownContainer, {\n        disabled: this.props.isNodeGraph,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        className: vrStyle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(TourStopContainer, {\n        info: GraphTourStops.GraphTraffic,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: leftSpacerStyle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(GraphTrafficContainer, {\n        disabled: this.props.disabled,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 15\n        }\n      }))), /*#__PURE__*/React.createElement(\"span\", {\n        className: vrStyle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(TourStopContainer, {\n        info: GraphTourStops.GraphType,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: leftSpacerStyle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(ToolbarDropdown, {\n        id: 'graph_type_dropdown',\n        disabled: this.props.disabled,\n        handleSelect: this.setGraphType,\n        value: graphTypeKey,\n        label: GRAPH_TYPES[graphTypeKey],\n        options: GRAPH_TYPES,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 15\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: rightToolbarStyle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(TourStopContainer, {\n        info: GraphTourStops.TimeRange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(TimeDurationContainer, {\n        id: \"graph_time_range\",\n        disabled: this.props.disabled,\n        handleRefresh: this.props.onHandleRefresh,\n        supportsReplay: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 15\n        }\n      })))));\n    }\n  }]);\n\n  return GraphSecondaryMasthead;\n}(React.PureComponent);\n\nexport { GraphSecondaryMasthead as default };","map":{"version":3,"sources":["/root/kiali-ui/src/pages/Graph/GraphToolbar/GraphSecondaryMasthead.tsx"],"names":["React","SecondaryMasthead","NamespaceDropdownContainer","style","TourStopContainer","GraphTourStops","ToolbarDropdown","GraphType","_","TimeDurationContainer","GraphTrafficContainer","mastheadStyle","marginLeft","marginRight","leftSpacerStyle","vrStyle","border","height","margin","width","rightToolbarStyle","float","GRAPH_TYPES","mapValues","val","capitalize","startCase","GraphSecondaryMasthead","setGraphType","type","graphType","props","onGraphTypeChange","graphTypeKey","findKey","isNodeGraph","GraphTraffic","disabled","TimeRange","onHandleRefresh","PureComponent"],"mappings":"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","sourcesContent":["import React from 'react';\nimport SecondaryMasthead from 'components/Nav/SecondaryMasthead';\nimport NamespaceDropdownContainer from 'components/NamespaceDropdown';\nimport { style } from 'typestyle';\nimport TourStopContainer from 'components/Tour/TourStop';\nimport { GraphTourStops } from '../GraphHelpTour';\nimport ToolbarDropdown from 'components/ToolbarDropdown/ToolbarDropdown';\nimport { GraphType } from 'types/Graph';\nimport * as _ from 'lodash';\nimport TimeDurationContainer from '../../../components/Time/TimeDurationComponent';\nimport GraphTrafficContainer from './GraphTraffic';\n\ntype GraphSecondaryMastheadProps = {\n  disabled: boolean;\n  graphType: GraphType;\n  isNodeGraph: boolean;\n\n  onToggleHelp: () => void;\n  onGraphTypeChange: (graphType: GraphType) => void;\n  onHandleRefresh: () => void;\n};\n\nconst mastheadStyle = style({\n  marginLeft: '-20px',\n  marginRight: '-40px'\n});\n\nconst leftSpacerStyle = style({\n  marginLeft: '10px'\n});\n\nconst vrStyle = style({\n  border: '1px inset',\n  height: '20px',\n  margin: '4px 0 0 10px',\n  width: '1px'\n});\n\nconst rightToolbarStyle = style({\n  float: 'right'\n});\n\n/**\n *  Key-value pair object representation of GraphType enum.  Values are human-readable versions of enum keys.\n *\n *  Example:  GraphType => {'APP': 'App', 'VERSIONED_APP': 'VersionedApp'}\n */\nconst GRAPH_TYPES = _.mapValues(GraphType, val => `${_.capitalize(_.startCase(val))} graph`);\n\nexport default class GraphSecondaryMasthead extends React.PureComponent<GraphSecondaryMastheadProps> {\n  render() {\n    const graphTypeKey: string = _.findKey(GraphType, val => val === this.props.graphType)!;\n\n    return (\n      <SecondaryMasthead title={false}>\n        <div className={mastheadStyle}>\n          <NamespaceDropdownContainer disabled={this.props.isNodeGraph} />\n          <span className={vrStyle} />\n          <TourStopContainer info={GraphTourStops.GraphTraffic}>\n            <span className={leftSpacerStyle}>\n              <GraphTrafficContainer disabled={this.props.disabled} />\n            </span>\n          </TourStopContainer>\n          <span className={vrStyle} />\n          <TourStopContainer info={GraphTourStops.GraphType}>\n            <span className={leftSpacerStyle}>\n              <ToolbarDropdown\n                id={'graph_type_dropdown'}\n                disabled={this.props.disabled}\n                handleSelect={this.setGraphType}\n                value={graphTypeKey}\n                label={GRAPH_TYPES[graphTypeKey]}\n                options={GRAPH_TYPES}\n              />\n            </span>\n          </TourStopContainer>\n          <div className={rightToolbarStyle}>\n            <TourStopContainer info={GraphTourStops.TimeRange}>\n              <TimeDurationContainer\n                id=\"graph_time_range\"\n                disabled={this.props.disabled}\n                handleRefresh={this.props.onHandleRefresh}\n                supportsReplay={true}\n              />\n            </TourStopContainer>\n          </div>\n        </div>\n      </SecondaryMasthead>\n    );\n  }\n\n  private setGraphType = (type: string) => {\n    const graphType: GraphType = GraphType[type] as GraphType;\n    if (this.props.graphType !== graphType) {\n      this.props.onGraphTypeChange(graphType);\n    }\n  };\n}\n"]},"metadata":{},"sourceType":"module"}