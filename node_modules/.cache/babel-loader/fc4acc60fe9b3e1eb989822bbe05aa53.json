{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport { colorRegExp, getValue } from '../utils';\nimport { parseColor, getColor } from 'style-utils';\nvar angleData = {\n  linear: {\n    'to top': '0deg',\n    'to top right': '45deg',\n    'to right top': '45deg',\n    'to right': '90deg',\n    'to right bottom': '135deg',\n    'to bottom right': '135deg',\n    'to bottom': '180deg',\n    'to bottom left': '225deg',\n    'to left bottom': '225deg',\n    'to left': '270deg',\n    'to left top': '315deg',\n    'to top left': '315deg'\n  },\n  radial: {\n    center: '50% 50%',\n    top: '50% 0%',\n    'top right': '100% 0%',\n    'right top': '100% 0%',\n    right: '100% 50%',\n    'right bottom': '100% 100%',\n    'bottom right': '100% 100%',\n    bottom: '50% 100%',\n    'bottom left': '0% 100%',\n    'left bottom': '0% 100%',\n    left: '0% 50%',\n    'left top': '0% 0%',\n    'top left': '0% 0%'\n  }\n};\nvar extentKeyWord = ['closest-side', 'closest-corner', 'farthest-side', 'farthest-corner'];\n\nvar consoleWarn = function consoleWarn(key, start, to) {\n  console.warn(\"Warning: The gradient \".concat(key, \"(\").concat(start, \" => \").concat(to, \") is different, which has been automatically converted to animation gradient \").concat(key, \"(\").concat(to, \").\"));\n}; // background-image functions: https://developer.mozilla.org/en-US/docs/Web/CSS/background-image\n\n\nvar noGradient = function noGradient(type) {\n  return type === 'url' || type.indexOf('image') >= 0 || type === 'paint' || type === 'cross-fade' || type === 'element';\n};\n\nvar GradientsPlugin = /*#__PURE__*/_createClass(function GradientsPlugin(_value) {\n  var _this = this;\n\n  _classCallCheck(this, GradientsPlugin);\n\n  this.startAt = void 0;\n  this.start = [];\n  this.value = void 0;\n  this.key = void 0;\n  this.tweenVars = {};\n  this.vars = [];\n  this.computedStyle = void 0;\n  this.target = void 0;\n  this.defaultStartVars = [];\n\n  this.getPosition = function (data) {\n    return data.map(function (t) {\n      return {\n        data: parseFloat(t),\n        unit: t.replace(/[^a-z|%]/g, '')\n      };\n    });\n  };\n\n  this.getAngle = function (type, $angle) {\n    var t = type.replace(/-|gradient|repeating]/g, '');\n    var extent;\n    var shape;\n    var angle;\n    var position;\n\n    switch (t) {\n      case 'linear':\n        {\n          angle = _this.getPosition((angleData.linear[$angle] || $angle || angleData.linear['to bottom']).split(' '));\n          break;\n        }\n\n      case 'radial':\n        {\n          var angleSplit = $angle.split(' ');\n          extent = angleSplit.find(function (s) {\n            return extentKeyWord.indexOf(s) >= 0;\n          }) || extentKeyWord[3];\n          shape = angleSplit.find(function (s) {\n            return s === 'circle' || s === 'ellipse';\n          }) || 'ellipse';\n          var req = new RegExp(\"\".concat(extent, \"|\").concat(shape, \"|at\"), 'g');\n          var p = $angle.replace(req, '').trim();\n          position = _this.getPosition((angleData.radial[p] || p || angleData.radial.center).split(' '));\n          break;\n        }\n\n      case 'conic':\n        {\n          var _angleSplit = $angle.split('at').map(function (c) {\n            return c.trim();\n          });\n\n          var n = (_angleSplit[0] || '').split(' ');\n          shape = n[0] || 'from';\n          angle = _this.getPosition([n[1] || '0deg']);\n          position = _this.getPosition((angleData.radial[_angleSplit[1]] || _angleSplit[1] || angleData.radial.center).split(' '));\n          break;\n        }\n\n      default:\n        break;\n    }\n\n    return {\n      extent: extent,\n      shape: shape,\n      angle: angle,\n      position: position\n    };\n  };\n\n  this.valueToIValue = function (value) {\n    if (!value) {\n      return [];\n    }\n\n    var v = value.replace(/\\),\\s+?(url|radial|conic|linear|repeating|image|element|cross|paint)/, ')#,#$1').split('#,#'); //.match(/[a-z|-]+\\(([\\s\\S]*?)\\)/gi) || [];\n\n    return v.map(function (str) {\n      var type = str.replace(/([a-z|-]+)\\((.*)\\)/, '$1').trim();\n\n      if (type === 'url') {\n        return {\n          type: type,\n          values: str\n        };\n      }\n\n      var data = str.replace(/([a-z|-]+)\\((.*)\\)/, '$2').replace(/#([0-9a-f]{6}|[0-9a-f]{3})|(rgb[a]?|hsl)+\\(\\d+\\,[\\s+]?\\d+[\\%]?\\,[\\s+]?\\d+[\\%]?(\\,\\d+)?\\)/gi, function (e) {\n        return e.replace(/\\s+/g, '');\n      }).replace(/\\,([a-z|#|\\s+])/g, '#,#$1').split('#,#').map(function (str) {\n        return str.trim();\n      });\n      var a = data[0].match(colorRegExp) ? '' : data[0];\n\n      if (a) {\n        data.splice(0, 1);\n      }\n\n      var angle = _this.getAngle(type, a);\n\n      var values = data.map(function (s) {\n        var colorAndPos = s.trim().split(/\\s+/);\n        var color;\n        var t = colorAndPos[0].match(colorRegExp) ? colorAndPos[0] : colorAndPos[0];\n\n        if (t) {\n          colorAndPos.splice(0, 1);\n          color = parseColor(t);\n        }\n\n        return {\n          color: color,\n          positions: colorAndPos.map(function (s) {\n            return {\n              data: parseFloat(s),\n              unit: s.toString().replace(/[^a-z|%]/g, '')\n            };\n          })\n        };\n      });\n      return {\n        type: type,\n        angle: angle,\n        values: values\n      };\n    });\n  };\n\n  this.getAnimStart = function () {\n    var _tweenVars$key;\n\n    var s = _this.startAt,\n        key = _this.key,\n        computedStyle = _this.computedStyle,\n        target = _this.target,\n        vars = _this.vars,\n        tweenVars = _this.tweenVars;\n\n    var startAt = _objectSpread({}, s);\n\n    var v = (_tweenVars$key = tweenVars[key]) !== null && _tweenVars$key !== void 0 ? _tweenVars$key : (computedStyle || target)[key];\n\n    if (!v || v === 'none' || v === 'auto') {\n      v = '';\n    }\n\n    if (!startAt[key]) {\n      startAt[key] = v ? _this.valueToIValue(v) : _this.defaultStartVars;\n    }\n\n    var maxVarsLength = Math.max(vars.length, startAt[key].length);\n    var startData = (maxVarsLength === startAt[key].length ? startAt[key] : vars).map(function (_, i) {\n      var _item$angle, _start$angle;\n\n      var start = startAt[key][i] || _this.defaultStartVars[i];\n      var item = vars[i] || start;\n\n      if (!start || start.type !== item.type) {\n        if (start.type !== item.type) {\n          consoleWarn('type', start.type, item.type);\n        }\n\n        start = _this.defaultStartVars[i];\n      }\n\n      if (noGradient(item.type) || typeof item.values === 'string' || typeof start.values === 'string') {\n        return _objectSpread({}, item);\n      }\n\n      if (((_item$angle = item.angle) === null || _item$angle === void 0 ? void 0 : _item$angle.extent) !== ((_start$angle = start.angle) === null || _start$angle === void 0 ? void 0 : _start$angle.extent)) {\n        var _start$angle2, _item$angle2;\n\n        consoleWarn('extent keyword', (_start$angle2 = start.angle) === null || _start$angle2 === void 0 ? void 0 : _start$angle2.extent, (_item$angle2 = item.angle) === null || _item$angle2 === void 0 ? void 0 : _item$angle2.extent);\n      }\n\n      var maxLength = Math.max(start.values.length, item.values.length);\n      var values = maxLength === start.values.length ? start.values : item.values;\n      start.values = values.map(function (_, j) {\n        var sValue = start.values[j];\n        var aItem = item.values[j] || sValue;\n        return _objectSpread(_objectSpread({}, sValue), {}, {\n          positions: (aItem || sValue).positions.map(function ($bItem, jj) {\n            var sPos = sValue ? sValue.positions[jj] || sValue.positions[sValue.positions.length - 1] : aItem.positions[aItem.positions.length - 1];\n            var bItem = $bItem || sPos;\n\n            if (!sPos && sValue && start.values.length) {\n              sPos = {\n                data: 100 / (start.values.length - 1) * j,\n                unit: '%'\n              };\n            }\n\n            if (bItem.unit !== sPos.unit) {\n              consoleWarn('units', sPos.unit, bItem.unit);\n            }\n\n            return {\n              data: sPos.data,\n              unit: bItem.unit\n            };\n          })\n        });\n      });\n      return start;\n    });\n    _this.start = startData;\n    return _this.start;\n  };\n\n  this.render = function (ratio) {\n    var value = '';\n    var maxVarsLength = Math.max(_this.vars.length, _this.start.length);\n    (maxVarsLength === _this.vars.length ? _this.vars : _this.start).forEach(function (_, i) {\n      var start = _this.start[i];\n      var item = _this.vars[i] || start;\n\n      if (noGradient(item.type) || typeof item.values === 'string' || !item.angle) {\n        value += \"\".concat(value ? ',' : '', \" \").concat(item.values).trim();\n        return;\n      }\n\n      var maxLength = Math.max(start.values.length, item.values.length);\n      var values = (maxLength === start.values.length ? start.values : item.values).map(function (_, i) {\n        var startItem = start.values[i];\n        var cItem = item.values[i];\n\n        if (!cItem) {\n          cItem = startItem;\n        }\n\n        var startColor = startItem.color;\n        var startPos = startItem.positions;\n\n        if (!startColor && cItem.color) {\n          startColor = _toConsumableArray(cItem.color); // startColor[3] = 0;\n        }\n\n        if (!startPos) {\n          startPos = cItem.positions.map(function (c) {\n            return _objectSpread({}, c);\n          });\n        }\n\n        var color = cItem.color ? cItem.color.map(function (n, j) {\n          return getValue(startColor[j], n, ratio);\n        }) : cItem.color;\n        var positions = cItem.positions.map(function (n, j) {\n          return \"\".concat(getValue(startPos[j].data, n.data, ratio)).concat(n.unit);\n        }).join(' ');\n        return \"\".concat(color ? getColor(color) : color || '', \" \").concat(positions).trim();\n      });\n      var angle = item.angle;\n      var angleAngle = angle.angle && angle.angle.map(function (n, j) {\n        return \"\".concat(getValue(start.angle.angle[j].data, n.data, ratio)).concat(n.unit);\n      }).join(' ');\n      var anglePosition = angle.position && angle.position.map(function (n, j) {\n        return \"\".concat(getValue(start.angle.position[j].data, n.data, ratio)).concat(n.unit);\n      }).join(' ');\n      var newAngle = \"\".concat(angle.extent || '', \" \").concat(angle.shape || '', \" \").concat(angleAngle || '', \" \").concat(anglePosition ? \"at \".concat(anglePosition) : '').trim();\n      value += \"\".concat(value ? ',' : '', \" \").concat(item.type, \"(\").concat(newAngle ? \"\".concat(newAngle, \",\") : '').concat(values.join(','), \")\").trim();\n    });\n    return value;\n  };\n\n  this.value = _value;\n  this.key = 'backgroundImage';\n  this.vars = this.valueToIValue(_value);\n  this.defaultStartVars = this.vars.map(function (item) {\n    if (noGradient(item.type) || typeof item.values === 'string') {\n      return _objectSpread({}, item);\n    }\n\n    return _objectSpread(_objectSpread({}, item), {}, {\n      values: item.values.map(function (c) {\n        var color;\n\n        if (c.color && typeof c.color !== 'string') {\n          color = _toConsumableArray(c.color);\n          color[3] = 0;\n        } else {\n          color = c.color;\n        }\n\n        return {\n          color: color,\n          positions: _toConsumableArray(c.positions)\n        };\n      })\n    });\n  });\n});\n\nGradientsPlugin.className = 'GradientsPlugin';\nexport { GradientsPlugin as default };","map":{"version":3,"sources":["/root/GraduateProject/node_modules/tween-one/es/plugins/GradientsPlugin.js"],"names":["_toConsumableArray","_objectSpread","_createClass","_classCallCheck","colorRegExp","getValue","parseColor","getColor","angleData","linear","radial","center","top","right","bottom","left","extentKeyWord","consoleWarn","key","start","to","console","warn","concat","noGradient","type","indexOf","GradientsPlugin","_value","_this","startAt","value","tweenVars","vars","computedStyle","target","defaultStartVars","getPosition","data","map","t","parseFloat","unit","replace","getAngle","$angle","extent","shape","angle","position","split","angleSplit","find","s","req","RegExp","p","trim","_angleSplit","c","n","valueToIValue","v","str","values","e","a","match","splice","colorAndPos","color","positions","toString","getAnimStart","_tweenVars$key","maxVarsLength","Math","max","length","startData","_","i","_item$angle","_start$angle","item","_start$angle2","_item$angle2","maxLength","j","sValue","aItem","$bItem","jj","sPos","bItem","render","ratio","forEach","startItem","cItem","startColor","startPos","join","angleAngle","anglePosition","newAngle","className","default"],"mappings":"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","sourcesContent":["import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport { colorRegExp, getValue } from '../utils';\nimport { parseColor, getColor } from 'style-utils';\nvar angleData = {\n  linear: {\n    'to top': '0deg',\n    'to top right': '45deg',\n    'to right top': '45deg',\n    'to right': '90deg',\n    'to right bottom': '135deg',\n    'to bottom right': '135deg',\n    'to bottom': '180deg',\n    'to bottom left': '225deg',\n    'to left bottom': '225deg',\n    'to left': '270deg',\n    'to left top': '315deg',\n    'to top left': '315deg'\n  },\n  radial: {\n    center: '50% 50%',\n    top: '50% 0%',\n    'top right': '100% 0%',\n    'right top': '100% 0%',\n    right: '100% 50%',\n    'right bottom': '100% 100%',\n    'bottom right': '100% 100%',\n    bottom: '50% 100%',\n    'bottom left': '0% 100%',\n    'left bottom': '0% 100%',\n    left: '0% 50%',\n    'left top': '0% 0%',\n    'top left': '0% 0%'\n  }\n};\nvar extentKeyWord = ['closest-side', 'closest-corner', 'farthest-side', 'farthest-corner'];\n\nvar consoleWarn = function consoleWarn(key, start, to) {\n  console.warn(\"Warning: The gradient \".concat(key, \"(\").concat(start, \" => \").concat(to, \") is different, which has been automatically converted to animation gradient \").concat(key, \"(\").concat(to, \").\"));\n}; // background-image functions: https://developer.mozilla.org/en-US/docs/Web/CSS/background-image\n\n\nvar noGradient = function noGradient(type) {\n  return type === 'url' || type.indexOf('image') >= 0 || type === 'paint' || type === 'cross-fade' || type === 'element';\n};\n\nvar GradientsPlugin = /*#__PURE__*/_createClass(function GradientsPlugin(_value) {\n  var _this = this;\n\n  _classCallCheck(this, GradientsPlugin);\n\n  this.startAt = void 0;\n  this.start = [];\n  this.value = void 0;\n  this.key = void 0;\n  this.tweenVars = {};\n  this.vars = [];\n  this.computedStyle = void 0;\n  this.target = void 0;\n  this.defaultStartVars = [];\n\n  this.getPosition = function (data) {\n    return data.map(function (t) {\n      return {\n        data: parseFloat(t),\n        unit: t.replace(/[^a-z|%]/g, '')\n      };\n    });\n  };\n\n  this.getAngle = function (type, $angle) {\n    var t = type.replace(/-|gradient|repeating]/g, '');\n    var extent;\n    var shape;\n    var angle;\n    var position;\n\n    switch (t) {\n      case 'linear':\n        {\n          angle = _this.getPosition((angleData.linear[$angle] || $angle || angleData.linear['to bottom']).split(' '));\n          break;\n        }\n\n      case 'radial':\n        {\n          var angleSplit = $angle.split(' ');\n          extent = angleSplit.find(function (s) {\n            return extentKeyWord.indexOf(s) >= 0;\n          }) || extentKeyWord[3];\n          shape = angleSplit.find(function (s) {\n            return s === 'circle' || s === 'ellipse';\n          }) || 'ellipse';\n          var req = new RegExp(\"\".concat(extent, \"|\").concat(shape, \"|at\"), 'g');\n          var p = $angle.replace(req, '').trim();\n          position = _this.getPosition((angleData.radial[p] || p || angleData.radial.center).split(' '));\n          break;\n        }\n\n      case 'conic':\n        {\n          var _angleSplit = $angle.split('at').map(function (c) {\n            return c.trim();\n          });\n\n          var n = (_angleSplit[0] || '').split(' ');\n          shape = n[0] || 'from';\n          angle = _this.getPosition([n[1] || '0deg']);\n          position = _this.getPosition((angleData.radial[_angleSplit[1]] || _angleSplit[1] || angleData.radial.center).split(' '));\n          break;\n        }\n\n      default:\n        break;\n    }\n\n    return {\n      extent: extent,\n      shape: shape,\n      angle: angle,\n      position: position\n    };\n  };\n\n  this.valueToIValue = function (value) {\n    if (!value) {\n      return [];\n    }\n\n    var v = value.replace(/\\),\\s+?(url|radial|conic|linear|repeating|image|element|cross|paint)/, ')#,#$1').split('#,#'); //.match(/[a-z|-]+\\(([\\s\\S]*?)\\)/gi) || [];\n\n    return v.map(function (str) {\n      var type = str.replace(/([a-z|-]+)\\((.*)\\)/, '$1').trim();\n\n      if (type === 'url') {\n        return {\n          type: type,\n          values: str\n        };\n      }\n\n      var data = str.replace(/([a-z|-]+)\\((.*)\\)/, '$2').replace(/#([0-9a-f]{6}|[0-9a-f]{3})|(rgb[a]?|hsl)+\\(\\d+\\,[\\s+]?\\d+[\\%]?\\,[\\s+]?\\d+[\\%]?(\\,\\d+)?\\)/gi, function (e) {\n        return e.replace(/\\s+/g, '');\n      }).replace(/\\,([a-z|#|\\s+])/g, '#,#$1').split('#,#').map(function (str) {\n        return str.trim();\n      });\n      var a = data[0].match(colorRegExp) ? '' : data[0];\n\n      if (a) {\n        data.splice(0, 1);\n      }\n\n      var angle = _this.getAngle(type, a);\n\n      var values = data.map(function (s) {\n        var colorAndPos = s.trim().split(/\\s+/);\n        var color;\n        var t = colorAndPos[0].match(colorRegExp) ? colorAndPos[0] : colorAndPos[0];\n\n        if (t) {\n          colorAndPos.splice(0, 1);\n          color = parseColor(t);\n        }\n\n        return {\n          color: color,\n          positions: colorAndPos.map(function (s) {\n            return {\n              data: parseFloat(s),\n              unit: s.toString().replace(/[^a-z|%]/g, '')\n            };\n          })\n        };\n      });\n      return {\n        type: type,\n        angle: angle,\n        values: values\n      };\n    });\n  };\n\n  this.getAnimStart = function () {\n    var _tweenVars$key;\n\n    var s = _this.startAt,\n        key = _this.key,\n        computedStyle = _this.computedStyle,\n        target = _this.target,\n        vars = _this.vars,\n        tweenVars = _this.tweenVars;\n\n    var startAt = _objectSpread({}, s);\n\n    var v = (_tweenVars$key = tweenVars[key]) !== null && _tweenVars$key !== void 0 ? _tweenVars$key : (computedStyle || target)[key];\n\n    if (!v || v === 'none' || v === 'auto') {\n      v = '';\n    }\n\n    if (!startAt[key]) {\n      startAt[key] = v ? _this.valueToIValue(v) : _this.defaultStartVars;\n    }\n\n    var maxVarsLength = Math.max(vars.length, startAt[key].length);\n    var startData = (maxVarsLength === startAt[key].length ? startAt[key] : vars).map(function (_, i) {\n      var _item$angle, _start$angle;\n\n      var start = startAt[key][i] || _this.defaultStartVars[i];\n      var item = vars[i] || start;\n\n      if (!start || start.type !== item.type) {\n        if (start.type !== item.type) {\n          consoleWarn('type', start.type, item.type);\n        }\n\n        start = _this.defaultStartVars[i];\n      }\n\n      if (noGradient(item.type) || typeof item.values === 'string' || typeof start.values === 'string') {\n        return _objectSpread({}, item);\n      }\n\n      if (((_item$angle = item.angle) === null || _item$angle === void 0 ? void 0 : _item$angle.extent) !== ((_start$angle = start.angle) === null || _start$angle === void 0 ? void 0 : _start$angle.extent)) {\n        var _start$angle2, _item$angle2;\n\n        consoleWarn('extent keyword', (_start$angle2 = start.angle) === null || _start$angle2 === void 0 ? void 0 : _start$angle2.extent, (_item$angle2 = item.angle) === null || _item$angle2 === void 0 ? void 0 : _item$angle2.extent);\n      }\n\n      var maxLength = Math.max(start.values.length, item.values.length);\n      var values = maxLength === start.values.length ? start.values : item.values;\n      start.values = values.map(function (_, j) {\n        var sValue = start.values[j];\n        var aItem = item.values[j] || sValue;\n        return _objectSpread(_objectSpread({}, sValue), {}, {\n          positions: (aItem || sValue).positions.map(function ($bItem, jj) {\n            var sPos = sValue ? sValue.positions[jj] || sValue.positions[sValue.positions.length - 1] : aItem.positions[aItem.positions.length - 1];\n            var bItem = $bItem || sPos;\n\n            if (!sPos && sValue && start.values.length) {\n              sPos = {\n                data: 100 / (start.values.length - 1) * j,\n                unit: '%'\n              };\n            }\n\n            if (bItem.unit !== sPos.unit) {\n              consoleWarn('units', sPos.unit, bItem.unit);\n            }\n\n            return {\n              data: sPos.data,\n              unit: bItem.unit\n            };\n          })\n        });\n      });\n      return start;\n    });\n    _this.start = startData;\n    return _this.start;\n  };\n\n  this.render = function (ratio) {\n    var value = '';\n    var maxVarsLength = Math.max(_this.vars.length, _this.start.length);\n    (maxVarsLength === _this.vars.length ? _this.vars : _this.start).forEach(function (_, i) {\n      var start = _this.start[i];\n      var item = _this.vars[i] || start;\n\n      if (noGradient(item.type) || typeof item.values === 'string' || !item.angle) {\n        value += \"\".concat(value ? ',' : '', \" \").concat(item.values).trim();\n        return;\n      }\n\n      var maxLength = Math.max(start.values.length, item.values.length);\n      var values = (maxLength === start.values.length ? start.values : item.values).map(function (_, i) {\n        var startItem = start.values[i];\n        var cItem = item.values[i];\n\n        if (!cItem) {\n          cItem = startItem;\n        }\n\n        var startColor = startItem.color;\n        var startPos = startItem.positions;\n\n        if (!startColor && cItem.color) {\n          startColor = _toConsumableArray(cItem.color); // startColor[3] = 0;\n        }\n\n        if (!startPos) {\n          startPos = cItem.positions.map(function (c) {\n            return _objectSpread({}, c);\n          });\n        }\n\n        var color = cItem.color ? cItem.color.map(function (n, j) {\n          return getValue(startColor[j], n, ratio);\n        }) : cItem.color;\n        var positions = cItem.positions.map(function (n, j) {\n          return \"\".concat(getValue(startPos[j].data, n.data, ratio)).concat(n.unit);\n        }).join(' ');\n        return \"\".concat(color ? getColor(color) : color || '', \" \").concat(positions).trim();\n      });\n      var angle = item.angle;\n      var angleAngle = angle.angle && angle.angle.map(function (n, j) {\n        return \"\".concat(getValue(start.angle.angle[j].data, n.data, ratio)).concat(n.unit);\n      }).join(' ');\n      var anglePosition = angle.position && angle.position.map(function (n, j) {\n        return \"\".concat(getValue(start.angle.position[j].data, n.data, ratio)).concat(n.unit);\n      }).join(' ');\n      var newAngle = \"\".concat(angle.extent || '', \" \").concat(angle.shape || '', \" \").concat(angleAngle || '', \" \").concat(anglePosition ? \"at \".concat(anglePosition) : '').trim();\n      value += \"\".concat(value ? ',' : '', \" \").concat(item.type, \"(\").concat(newAngle ? \"\".concat(newAngle, \",\") : '').concat(values.join(','), \")\").trim();\n    });\n    return value;\n  };\n\n  this.value = _value;\n  this.key = 'backgroundImage';\n  this.vars = this.valueToIValue(_value);\n  this.defaultStartVars = this.vars.map(function (item) {\n    if (noGradient(item.type) || typeof item.values === 'string') {\n      return _objectSpread({}, item);\n    }\n\n    return _objectSpread(_objectSpread({}, item), {}, {\n      values: item.values.map(function (c) {\n        var color;\n\n        if (c.color && typeof c.color !== 'string') {\n          color = _toConsumableArray(c.color);\n          color[3] = 0;\n        } else {\n          color = c.color;\n        }\n\n        return {\n          color: color,\n          positions: _toConsumableArray(c.positions)\n        };\n      })\n    });\n  });\n});\n\nGradientsPlugin.className = 'GradientsPlugin';\nexport { GradientsPlugin as default };"]},"metadata":{},"sourceType":"module"}